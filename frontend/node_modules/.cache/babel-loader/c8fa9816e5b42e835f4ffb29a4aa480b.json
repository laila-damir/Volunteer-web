{"ast":null,"code":"'use client';\n\nimport * as React from 'react';\nimport { PrimeReactContext } from 'primereact/api';\nimport { useMergeProps, usePrevious, useStyle, useResizeListener, useEventListener, useMountEffect, useUpdateEffect } from 'primereact/hooks';\nimport { SpinnerIcon } from 'primereact/icons/spinner';\nimport { DomHandler, ObjectUtils, classNames, IconUtils } from 'primereact/utils';\nimport { ComponentBase } from 'primereact/componentbase';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n\n  if (null != t) {\n    var e,\n        n,\n        i,\n        u,\n        a = [],\n        f = !0,\n        o = !1;\n\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n\n    return a;\n  }\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar styles = \"\\n.p-virtualscroller {\\n    position: relative;\\n    overflow: auto;\\n    contain: strict;\\n    transform: translateZ(0);\\n    will-change: scroll-position;\\n    outline: 0 none;\\n}\\n\\n.p-virtualscroller-content {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    /*contain: content;*/\\n    min-height: 100%;\\n    min-width: 100%;\\n    will-change: transform;\\n}\\n\\n.p-virtualscroller-spacer {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 1px;\\n    width: 1px;\\n    transform-origin: 0 0;\\n    pointer-events: none;\\n}\\n\\n.p-virtualscroller-loader {\\n    position: sticky;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n.p-virtualscroller-loader.p-component-overlay {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\\n.p-virtualscroller-loading-icon {\\n    font-size: 2rem;\\n}\\n\\n.p-virtualscroller-horizontal > .p-virtualscroller-content {\\n    display: flex;\\n}\\n\\n/* Inline */\\n.p-virtualscroller-inline .p-virtualscroller-content {\\n    position: static;\\n}\\n\";\nvar VirtualScrollerBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'VirtualScroller',\n    __parentMetadata: null,\n    id: null,\n    style: null,\n    className: null,\n    tabIndex: 0,\n    items: null,\n    itemSize: 0,\n    scrollHeight: null,\n    scrollWidth: null,\n    orientation: 'vertical',\n    step: 0,\n    numToleratedItems: null,\n    delay: 0,\n    resizeDelay: 10,\n    appendOnly: false,\n    inline: false,\n    lazy: false,\n    disabled: false,\n    loaderDisabled: false,\n    loadingIcon: null,\n    columns: null,\n    loading: undefined,\n    autoSize: false,\n    showSpacer: true,\n    showLoader: false,\n    loadingTemplate: null,\n    loaderIconTemplate: null,\n    itemTemplate: null,\n    contentTemplate: null,\n    onScroll: null,\n    onScrollIndexChange: null,\n    onLazyLoad: null,\n    children: undefined\n  },\n  css: {\n    styles: styles\n  }\n});\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nvar VirtualScroller = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var mergeProps = useMergeProps();\n  var context = React.useContext(PrimeReactContext);\n  var props = VirtualScrollerBase.getProps(inProps, context);\n  var prevProps = usePrevious(inProps) || {};\n  var vertical = props.orientation === 'vertical';\n  var horizontal = props.orientation === 'horizontal';\n  var both = props.orientation === 'both';\n\n  var _React$useState = React.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstState = _React$useState2[0],\n      setFirstState = _React$useState2[1];\n\n  var _React$useState3 = React.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastState = _React$useState4[0],\n      setLastState = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      pageState = _React$useState6[0],\n      setPageState = _React$useState6[1];\n\n  var _React$useState7 = React.useState(both ? {\n    rows: 0,\n    cols: 0\n  } : 0),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      numItemsInViewportState = _React$useState8[0],\n      setNumItemsInViewportState = _React$useState8[1];\n\n  var _React$useState9 = React.useState(props.numToleratedItems),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      numToleratedItemsState = _React$useState10[0],\n      setNumToleratedItemsState = _React$useState10[1];\n\n  var _React$useState11 = React.useState(props.loading || false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      loadingState = _React$useState12[0],\n      setLoadingState = _React$useState12[1];\n\n  var _React$useState13 = React.useState([]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      loaderArrState = _React$useState14[0],\n      setLoaderArrState = _React$useState14[1];\n\n  var _VirtualScrollerBase$ = VirtualScrollerBase.setMetaData({\n    props: props,\n    state: {\n      first: firstState,\n      last: lastState,\n      page: pageState,\n      numItemsInViewport: numItemsInViewportState,\n      numToleratedItems: numToleratedItemsState,\n      loading: loadingState,\n      loaderArr: loaderArrState\n    }\n  }),\n      ptm = _VirtualScrollerBase$.ptm;\n\n  useStyle(VirtualScrollerBase.css.styles, {\n    name: 'virtualscroller'\n  });\n  var elementRef = React.useRef(null);\n\n  var _contentRef = React.useRef(null);\n\n  var _spacerRef = React.useRef(null);\n\n  var _stickyRef = React.useRef(null);\n\n  var lastScrollPos = React.useRef(both ? {\n    top: 0,\n    left: 0\n  } : 0);\n  var scrollTimeout = React.useRef(null);\n  var resizeTimeout = React.useRef(null);\n  var contentStyle = React.useRef({});\n  var spacerStyle = React.useRef({});\n  var defaultWidth = React.useRef(null);\n  var defaultHeight = React.useRef(null);\n  var defaultContentWidth = React.useRef(null);\n  var defaultContentHeight = React.useRef(null);\n  var isItemRangeChanged = React.useRef(false);\n  var lazyLoadState = React.useRef(null);\n\n  var _useResizeListener = useResizeListener({\n    listener: function listener(event) {\n      return onResize();\n    },\n    when: !props.disabled\n  }),\n      _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\n      bindWindowResizeListener = _useResizeListener2[0];\n\n  var _useEventListener = useEventListener({\n    target: 'window',\n    type: 'orientationchange',\n    listener: function listener(event) {\n      return onResize();\n    },\n    when: !props.disabled\n  }),\n      _useEventListener2 = _slicedToArray(_useEventListener, 1),\n      bindOrientationChangeListener = _useEventListener2[0];\n\n  var getElementRef = function getElementRef() {\n    return elementRef;\n  };\n\n  var getPageByFirst = function getPageByFirst(first) {\n    return Math.floor((first + numToleratedItemsState * 4) / (props.step || 1));\n  };\n\n  var setContentElement = function setContentElement(element) {\n    _contentRef.current = element || _contentRef.current || DomHandler.findSingle(elementRef.current, '.p-virtualscroller-content');\n  };\n\n  var isPageChanged = function isPageChanged(first) {\n    return props.step ? pageState !== getPageByFirst(first) : true;\n  };\n\n  var scrollTo = function scrollTo(options) {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n    elementRef.current && elementRef.current.scrollTo(options);\n  };\n\n  var scrollToIndex = function scrollToIndex(index) {\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n\n    var _calculateNumItems = calculateNumItems(),\n        numToleratedItems = _calculateNumItems.numToleratedItems;\n\n    var contentPos = getContentPosition();\n\n    var calculateFirst = function calculateFirst() {\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\n\n      return _index <= _numT ? 0 : _index;\n    };\n\n    var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n      return _first * _size + _cpos;\n    };\n\n    var scrollToItem = function scrollToItem() {\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      return scrollTo({\n        left: left,\n        top: top,\n        behavior: behavior\n      });\n    };\n\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var isRangeChanged = false;\n\n    if (both) {\n      newFirst = {\n        rows: calculateFirst(index[0], numToleratedItems[0]),\n        cols: calculateFirst(index[1], numToleratedItems[1])\n      };\n      scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1], contentPos.left), calculateCoord(newFirst.rows, props.itemSize[0], contentPos.top));\n      isRangeChanged = firstState.rows !== newFirst.rows || firstState.cols !== newFirst.cols;\n    } else {\n      newFirst = calculateFirst(index, numToleratedItems);\n      horizontal ? scrollToItem(calculateCoord(newFirst, props.itemSize, contentPos.left), 0) : scrollToItem(0, calculateCoord(newFirst, props.itemSize, contentPos.top));\n      isRangeChanged = firstState !== newFirst;\n    }\n\n    isItemRangeChanged.current = isRangeChanged;\n    setFirstState(newFirst);\n  };\n\n  var scrollInView = function scrollInView(index, to) {\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n    if (to) {\n      var _getRenderedRange = getRenderedRange(),\n          first = _getRenderedRange.first,\n          viewport = _getRenderedRange.viewport;\n\n      var scrollToItem = function scrollToItem() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      var isToStart = to === 'to-start';\n      var isToEnd = to === 'to-end';\n\n      if (isToStart) {\n        if (both) {\n          if (viewport.first.rows - first.rows > index[0]) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\n          } else if (viewport.first.cols - first.cols > index[1]) {\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.first - first > index) {\n            var pos = (viewport.first - 1) * props.itemSize;\n            horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\n          }\n        }\n      } else if (isToEnd) {\n        if (both) {\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\n          }\n        } else {\n          if (viewport.last - first <= index + 1) {\n            var _pos2 = (viewport.first + 1) * props.itemSize;\n\n            horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\n          }\n        }\n      }\n    } else {\n      scrollToIndex(index, behavior);\n    }\n  };\n\n  var getRows = function getRows() {\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\n  };\n\n  var getColumns = function getColumns() {\n    if (props.columns && both || horizontal) {\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\n    }\n\n    return props.columns;\n  };\n\n  var getRenderedRange = function getRenderedRange() {\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n\n    var firstInViewport = firstState;\n    var lastInViewport = 0;\n\n    if (elementRef.current) {\n      var _elementRef$current = elementRef.current,\n          scrollTop = _elementRef$current.scrollTop,\n          scrollLeft = _elementRef$current.scrollLeft;\n\n      if (both) {\n        firstInViewport = {\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\n        };\n        lastInViewport = {\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\n          cols: firstInViewport.cols + numItemsInViewportState.cols\n        };\n      } else {\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\n        lastInViewport = firstInViewport + numItemsInViewportState;\n      }\n    }\n\n    return {\n      first: firstState,\n      last: lastState,\n      viewport: {\n        first: firstInViewport,\n        last: lastInViewport\n      }\n    };\n  };\n\n  var calculateNumItems = function calculateNumItems() {\n    var contentPos = getContentPosition();\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\n\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\n    };\n\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n      return Math.ceil(_numItems / 2);\n    };\n\n    var numItemsInViewport = both ? {\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n    return {\n      numItemsInViewport: numItemsInViewport,\n      numToleratedItems: numToleratedItems\n    };\n  };\n\n  var calculateOptions = function calculateOptions() {\n    var _calculateNumItems2 = calculateNumItems(),\n        numItemsInViewport = _calculateNumItems2.numItemsInViewport,\n        numToleratedItems = _calculateNumItems2.numToleratedItems;\n\n    var calculateLast = function calculateLast(_first, _num, _numT) {\n      var _isCols = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n    };\n\n    var last = both ? {\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\n    setNumItemsInViewportState(numItemsInViewport);\n    setNumToleratedItemsState(numToleratedItems);\n    setLastState(last);\n\n    if (props.showLoader) {\n      setLoaderArrState(both ? Array.from({\n        length: numItemsInViewport.rows\n      }).map(function () {\n        return Array.from({\n          length: numItemsInViewport.cols\n        });\n      }) : Array.from({\n        length: numItemsInViewport\n      }));\n    }\n\n    if (props.lazy) {\n      Promise.resolve().then(function () {\n        lazyLoadState.current = {\n          first: props.step ? both ? {\n            rows: 0,\n            cols: firstState.cols\n          } : 0 : firstState,\n          last: Math.min(props.step ? props.step : last, (props.items || []).length)\n        };\n        props.onLazyLoad && props.onLazyLoad(lazyLoadState.current);\n      });\n    }\n  };\n\n  var calculateAutoSize = function calculateAutoSize(loading) {\n    if (props.autoSize && !loading) {\n      Promise.resolve().then(function () {\n        if (_contentRef.current) {\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\n          _contentRef.current.style.position = 'relative';\n          elementRef.current.style.contain = 'none';\n          /*const [contentWidth, contentHeight] = [DomHandler.getWidth(contentRef.current), DomHandler.getHeight(contentRef.current)];\r\n           contentWidth !== defaultContentWidth.current && (elementRef.current.style.width = '');\r\n          contentHeight !== defaultContentHeight.current && (elementRef.current.style.height = '');*/\n\n          var _ref = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n              width = _ref[0],\n              height = _ref[1];\n          (both || horizontal) && (elementRef.current.style.width = (width < defaultWidth.current ? width : props.scrollWidth || defaultWidth.current) + 'px');\n          (both || vertical) && (elementRef.current.style.height = (height < defaultHeight.current ? height : props.scrollHeight || defaultHeight.current) + 'px');\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\n          _contentRef.current.style.position = '';\n          elementRef.current.style.contain = '';\n        }\n      });\n    }\n  };\n\n  var getLast = function getLast() {\n    var _ref2;\n\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\n    return props.items ? Math.min(isCols ? ((_ref2 = props.columns || props.items[0]) === null || _ref2 === void 0 ? void 0 : _ref2.length) || 0 : (props.items || []).length, last) : 0;\n  };\n\n  var getContentPosition = function getContentPosition() {\n    if (_contentRef.current) {\n      var style = getComputedStyle(_contentRef.current);\n      var left = parseFloat(style.paddingLeft) + Math.max(parseFloat(style.left) || 0, 0);\n      var right = parseFloat(style.paddingRight) + Math.max(parseFloat(style.right) || 0, 0);\n      var top = parseFloat(style.paddingTop) + Math.max(parseFloat(style.top) || 0, 0);\n      var bottom = parseFloat(style.paddingBottom) + Math.max(parseFloat(style.bottom) || 0, 0);\n      return {\n        left: left,\n        right: right,\n        top: top,\n        bottom: bottom,\n        x: left + right,\n        y: top + bottom\n      };\n    }\n\n    return {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      x: 0,\n      y: 0\n    };\n  };\n\n  var setSize = function setSize() {\n    if (elementRef.current) {\n      var parentElement = elementRef.current.parentElement;\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\n\n      var setProp = function setProp(_name, _value) {\n        return elementRef.current.style[_name] = _value;\n      };\n\n      if (both || horizontal) {\n        setProp('height', height);\n        setProp('width', width);\n      } else {\n        setProp('height', height);\n      }\n    }\n  };\n\n  var setSpacerSize = function setSpacerSize() {\n    var items = props.items;\n\n    if (items) {\n      var contentPos = getContentPosition();\n\n      var setProp = function setProp(_name, _value, _size) {\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n        return spacerStyle.current = _objectSpread(_objectSpread({}, spacerStyle.current), _defineProperty({}, \"\".concat(_name), (_value || []).length * _size + _cpos + 'px'));\n      };\n\n      if (both) {\n        setProp('height', items, props.itemSize[0], contentPos.y);\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\n      } else {\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\n      }\n    }\n  };\n\n  var setContentPosition = function setContentPosition(pos) {\n    if (_contentRef.current && !props.appendOnly) {\n      var first = pos ? pos.first : firstState;\n\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n        return _first * _size;\n      };\n\n      var setTransform = function setTransform() {\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\n        contentStyle.current = _objectSpread(_objectSpread({}, contentStyle.current), {\n          transform: \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\")\n        });\n      };\n\n      if (both) {\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\n      } else {\n        var translateVal = calculateTranslateVal(first, props.itemSize);\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n      }\n    }\n  };\n\n  var onScrollPositionChange = function onScrollPositionChange(event) {\n    var target = event.target;\n    var contentPos = getContentPosition();\n\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n    };\n\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n      return Math.floor(_pos / (_size || _pos));\n    };\n\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n    };\n\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n      if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\n    };\n\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n      var lastValue = _first + _num + 2 * _numT;\n\n      if (_currentIndex >= _numT) {\n        lastValue += _numT + 1;\n      }\n\n      return getLast(lastValue, _isCols);\n    };\n\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n    var newFirst = both ? {\n      rows: 0,\n      cols: 0\n    } : 0;\n    var newLast = lastState;\n    var isRangeChanged = false;\n    var newScrollPos = lastScrollPos.current;\n\n    if (both) {\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\n\n      if (!props.appendOnly || props.appendOnly && (isScrollDown || isScrollRight)) {\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\n        };\n        isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols || isItemRangeChanged.current;\n        newScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      }\n    } else {\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\n\n      if (!props.appendOnly || props.appendOnly && isScrollDownOrRight) {\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\n\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\n        isRangeChanged = newFirst !== firstState || newLast !== lastState || isItemRangeChanged.current;\n        newScrollPos = scrollPos;\n      }\n    }\n\n    return {\n      first: newFirst,\n      last: newLast,\n      isRangeChanged: isRangeChanged,\n      scrollPos: newScrollPos\n    };\n  };\n\n  var onScrollChange = function onScrollChange(event) {\n    var _onScrollPositionChan = onScrollPositionChange(event),\n        first = _onScrollPositionChan.first,\n        last = _onScrollPositionChan.last,\n        isRangeChanged = _onScrollPositionChan.isRangeChanged,\n        scrollPos = _onScrollPositionChan.scrollPos;\n\n    if (isRangeChanged) {\n      var newState = {\n        first: first,\n        last: last\n      };\n      setContentPosition(newState);\n      setFirstState(first);\n      setLastState(last);\n      lastScrollPos.current = scrollPos;\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\n\n      if (props.lazy && isPageChanged(first)) {\n        var newLazyLoadState = {\n          first: props.step ? Math.min(getPageByFirst(first) * props.step, (props.items || []).length - props.step) : first,\n          last: Math.min(props.step ? (getPageByFirst(first) + 1) * props.step : last, (props.items || []).length)\n        };\n        var isLazyStateChanged = !lazyLoadState.current || lazyLoadState.current.first !== newLazyLoadState.first || lazyLoadState.current.last !== newLazyLoadState.last;\n        isLazyStateChanged && props.onLazyLoad && props.onLazyLoad(newLazyLoadState);\n        lazyLoadState.current = newLazyLoadState;\n      }\n    }\n  };\n\n  var _onScroll = function onScroll(event) {\n    props.onScroll && props.onScroll(event);\n\n    if (props.delay) {\n      if (scrollTimeout.current) {\n        clearTimeout(scrollTimeout.current);\n      }\n\n      if (isPageChanged(firstState)) {\n        if (!loadingState && props.showLoader) {\n          var _onScrollPositionChan2 = onScrollPositionChange(event),\n              isRangeChanged = _onScrollPositionChan2.isRangeChanged;\n\n          var changed = isRangeChanged || (props.step ? isPageChanged(firstState) : false);\n          changed && setLoadingState(true);\n        }\n\n        scrollTimeout.current = setTimeout(function () {\n          onScrollChange(event);\n\n          if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\n            setLoadingState(false);\n            setPageState(getPageByFirst(firstState));\n          }\n        }, props.delay);\n      }\n    } else {\n      onScrollChange(event);\n    }\n  };\n\n  var onResize = function onResize() {\n    if (resizeTimeout.current) {\n      clearTimeout(resizeTimeout.current);\n    }\n\n    resizeTimeout.current = setTimeout(function () {\n      if (elementRef.current) {\n        var _ref3 = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\n            width = _ref3[0],\n            height = _ref3[1];\n        var isDiffWidth = width !== defaultWidth.current,\n            isDiffHeight = height !== defaultHeight.current;\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\n\n        if (reinit) {\n          setNumToleratedItemsState(props.numToleratedItems);\n          defaultWidth.current = width;\n          defaultHeight.current = height;\n          defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n          defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n        }\n      }\n    }, props.resizeDelay);\n  };\n\n  var getOptions = function getOptions(renderedIndex) {\n    var count = (props.items || []).length;\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\n    return {\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    };\n  };\n\n  var loaderOptions = function loaderOptions(index, extOptions) {\n    var count = loaderArrState.length || 0;\n    return _objectSpread({\n      index: index,\n      count: count,\n      first: index === 0,\n      last: index === count - 1,\n      even: index % 2 === 0,\n      odd: index % 2 !== 0,\n      props: props\n    }, extOptions);\n  };\n\n  var loadedItems = function loadedItems() {\n    var items = props.items;\n\n    if (items && !loadingState) {\n      if (both) return items.slice(props.appendOnly ? 0 : firstState.rows, lastState.rows).map(function (item) {\n        return props.columns ? item : item.slice(props.appendOnly ? 0 : firstState.cols, lastState.cols);\n      });else if (horizontal && props.columns) return items;else return items.slice(props.appendOnly ? 0 : firstState, lastState);\n    }\n\n    return [];\n  };\n\n  var viewInit = function viewInit() {\n    if (elementRef.current && DomHandler.isVisible(elementRef.current)) {\n      setContentElement(_contentRef.current);\n      init();\n      bindWindowResizeListener();\n      bindOrientationChangeListener();\n      defaultWidth.current = DomHandler.getWidth(elementRef.current);\n      defaultHeight.current = DomHandler.getHeight(elementRef.current);\n      defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\n      defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\n    }\n  };\n\n  var init = function init() {\n    if (!props.disabled) {\n      setSize();\n      calculateOptions();\n      setSpacerSize();\n    }\n  };\n\n  useMountEffect(function () {\n    viewInit();\n  });\n  useUpdateEffect(function () {\n    init();\n  }, [props.itemSize, props.scrollHeight, props.scrollWidth]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems !== numToleratedItemsState) {\n      setNumToleratedItemsState(props.numToleratedItems);\n    }\n  }, [props.numToleratedItems]);\n  useUpdateEffect(function () {\n    if (props.numToleratedItems === numToleratedItemsState) {\n      init(); // reinit after resizing\n    }\n  }, [numToleratedItemsState]);\n  useUpdateEffect(function () {\n    if (!prevProps.items || prevProps.items.length !== (props.items || []).length) {\n      init();\n    }\n\n    var loading = loadingState;\n\n    if (props.lazy && prevProps.loading !== props.loading && props.loading !== loadingState) {\n      setLoadingState(props.loading);\n      loading = props.loading;\n    }\n\n    calculateAutoSize(loading);\n  });\n  useUpdateEffect(function () {\n    lastScrollPos.current = both ? {\n      top: 0,\n      left: 0\n    } : 0;\n  }, [props.orientation]);\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getElementRef: getElementRef,\n      scrollTo: scrollTo,\n      scrollToIndex: scrollToIndex,\n      scrollInView: scrollInView,\n      getRenderedRange: getRenderedRange\n    };\n  });\n\n  var createLoaderItem = function createLoaderItem(index) {\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = loaderOptions(index, extOptions);\n    var content = ObjectUtils.getJSXElement(props.loadingTemplate, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: index\n    }, content);\n  };\n\n  var createLoader = function createLoader() {\n    var iconClassName = 'p-virtualscroller-loading-icon';\n    var loadingIconProps = mergeProps({\n      className: iconClassName\n    }, ptm('loadingIcon'));\n    var icon = props.loadingIcon || /*#__PURE__*/React.createElement(SpinnerIcon, _extends({}, loadingIconProps, {\n      spin: true\n    }));\n    var loadingIcon = IconUtils.getJSXIcon(icon, _objectSpread({}, loadingIconProps), {\n      props: props\n    });\n\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\n      var className = classNames('p-virtualscroller-loader', {\n        'p-component-overlay': !props.loadingTemplate\n      });\n      var content = loadingIcon;\n\n      if (props.loadingTemplate) {\n        content = loaderArrState.map(function (_, index) {\n          return createLoaderItem(index, both && {\n            numCols: numItemsInViewportState.cols\n          });\n        });\n      } else if (props.loaderIconTemplate) {\n        var defaultContentOptions = {\n          iconClassName: iconClassName,\n          element: content,\n          props: props\n        };\n        content = ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\n      }\n\n      var loaderProps = mergeProps({\n        className: className\n      }, ptm('loader'));\n      return /*#__PURE__*/React.createElement(\"div\", loaderProps, content);\n    }\n\n    return null;\n  };\n\n  var createSpacer = function createSpacer() {\n    if (props.showSpacer) {\n      var spacerProps = mergeProps({\n        ref: _spacerRef,\n        style: spacerStyle.current,\n        className: 'p-virtualscroller-spacer'\n      }, ptm('spacer'));\n      return /*#__PURE__*/React.createElement(\"div\", spacerProps);\n    }\n\n    return null;\n  };\n\n  var createItem = function createItem(item, index) {\n    var options = getOptions(index);\n    var content = ObjectUtils.getJSXElement(props.itemTemplate, item, options);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      key: options.index\n    }, content);\n  };\n\n  var createItems = function createItems() {\n    var items = loadedItems();\n    return items.map(createItem);\n  };\n\n  var createContent = function createContent() {\n    var items = createItems();\n    var className = classNames('p-virtualscroller-content', {\n      'p-virtualscroller-loading': loadingState\n    });\n    var contentProps = mergeProps({\n      ref: _contentRef,\n      style: contentStyle.current,\n      className: className\n    }, ptm('content'));\n    var content = /*#__PURE__*/React.createElement(\"div\", contentProps, items);\n\n    if (props.contentTemplate) {\n      var defaultOptions = {\n        style: contentStyle.current,\n        className: className,\n        spacerStyle: spacerStyle.current,\n        contentRef: function contentRef(el) {\n          return _contentRef.current = ObjectUtils.getRefElement(el);\n        },\n        spacerRef: function spacerRef(el) {\n          return _spacerRef.current = ObjectUtils.getRefElement(el);\n        },\n        stickyRef: function stickyRef(el) {\n          return _stickyRef.current = ObjectUtils.getRefElement(el);\n        },\n        items: loadedItems(),\n        getItemOptions: function getItemOptions(index) {\n          return getOptions(index);\n        },\n        children: items,\n        element: content,\n        props: props,\n        loading: loadingState,\n        getLoaderOptions: function getLoaderOptions(index, ext) {\n          return loaderOptions(index, ext);\n        },\n        loadingTemplate: props.loadingTemplate,\n        itemSize: props.itemSize,\n        rows: getRows(),\n        columns: getColumns(),\n        vertical: vertical,\n        horizontal: horizontal,\n        both: both\n      };\n      return ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\n    }\n\n    return content;\n  };\n\n  if (props.disabled) {\n    var content = ObjectUtils.getJSXElement(props.contentTemplate, {\n      items: props.items,\n      rows: props.items,\n      columns: props.columns\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, props.children, content);\n  } else {\n    var className = classNames('p-virtualscroller', {\n      'p-virtualscroller-inline': props.inline,\n      'p-virtualscroller-both p-both-scroll': both,\n      'p-virtualscroller-horizontal p-horizontal-scroll': horizontal\n    }, props.className);\n    var loader = createLoader();\n\n    var _content = createContent();\n\n    var spacer = createSpacer();\n    var rootProps = mergeProps({\n      ref: elementRef,\n      className: className,\n      tabIndex: props.tabIndex,\n      style: props.style,\n      onScroll: function onScroll(e) {\n        return _onScroll(e);\n      }\n    }, VirtualScrollerBase.getOtherProps(props), ptm('root'));\n    return /*#__PURE__*/React.createElement(\"div\", rootProps, _content, spacer, loader);\n  }\n}));\nVirtualScroller.displayName = 'VirtualScroller';\nexport { VirtualScroller };","map":{"version":3,"names":["React","PrimeReactContext","useMergeProps","usePrevious","useStyle","useResizeListener","useEventListener","useMountEffect","useUpdateEffect","SpinnerIcon","DomHandler","ObjectUtils","classNames","IconUtils","ComponentBase","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_typeof","o","Symbol","iterator","constructor","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","TypeError","String","Number","_toPropertyKey","arg","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","r","l","t","e","n","u","a","f","next","done","push","_arrayLikeToArray","len","arr2","_unsupportedIterableToArray","minLen","toString","slice","name","from","test","_nonIterableRest","_slicedToArray","styles","VirtualScrollerBase","extend","defaultProps","__TYPE","__parentMetadata","id","style","className","tabIndex","items","itemSize","scrollHeight","scrollWidth","orientation","step","numToleratedItems","delay","resizeDelay","appendOnly","inline","lazy","disabled","loaderDisabled","loadingIcon","columns","loading","autoSize","showSpacer","showLoader","loadingTemplate","loaderIconTemplate","itemTemplate","contentTemplate","onScroll","onScrollIndexChange","onLazyLoad","children","css","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","VirtualScroller","memo","forwardRef","inProps","ref","mergeProps","context","useContext","props","getProps","prevProps","vertical","horizontal","both","_React$useState","useState","rows","cols","_React$useState2","firstState","setFirstState","_React$useState3","_React$useState4","lastState","setLastState","_React$useState5","_React$useState6","pageState","setPageState","_React$useState7","_React$useState8","numItemsInViewportState","setNumItemsInViewportState","_React$useState9","_React$useState10","numToleratedItemsState","setNumToleratedItemsState","_React$useState11","_React$useState12","loadingState","setLoadingState","_React$useState13","_React$useState14","loaderArrState","setLoaderArrState","_VirtualScrollerBase$","setMetaData","state","first","last","page","numItemsInViewport","loaderArr","ptm","elementRef","useRef","_contentRef","_spacerRef","_stickyRef","lastScrollPos","top","left","scrollTimeout","resizeTimeout","contentStyle","spacerStyle","defaultWidth","defaultHeight","defaultContentWidth","defaultContentHeight","isItemRangeChanged","lazyLoadState","_useResizeListener","listener","event","onResize","when","_useResizeListener2","bindWindowResizeListener","_useEventListener","type","_useEventListener2","bindOrientationChangeListener","getElementRef","getPageByFirst","Math","floor","setContentElement","element","current","findSingle","isPageChanged","scrollTo","options","scrollToIndex","index","behavior","_calculateNumItems","calculateNumItems","contentPos","getContentPosition","calculateFirst","_index","_numT","calculateCoord","_first","_size","_cpos","scrollToItem","newFirst","isRangeChanged","scrollInView","to","_getRenderedRange","getRenderedRange","viewport","isToStart","isToEnd","pos","_pos2","getRows","loadedItems","getColumns","calculateFirstInViewport","_pos","firstInViewport","lastInViewport","_elementRef$current","scrollTop","scrollLeft","scrollPos","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateNumToleratedItems","_numItems","calculateOptions","_calculateNumItems2","calculateLast","_num","_isCols","getLast","map","Promise","resolve","then","min","calculateAutoSize","minHeight","minWidth","position","contain","_ref","getWidth","getHeight","width","height","_ref2","isCols","getComputedStyle","parseFloat","paddingLeft","max","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","setSize","parentElement","concat","setProp","_name","_value","setSpacerSize","setContentPosition","calculateTranslateVal","setTransform","_x","_y","transform","translateVal","onScrollPositionChange","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","newScrollPos","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","_currentIndex2","_triggerIndex2","onScrollChange","_onScrollPositionChan","newState","newLazyLoadState","isLazyStateChanged","_onScroll","clearTimeout","_onScrollPositionChan2","changed","setTimeout","_ref3","isDiffWidth","isDiffHeight","reinit","getOptions","renderedIndex","count","even","odd","loaderOptions","extOptions","item","viewInit","isVisible","init","useImperativeHandle","createLoaderItem","content","getJSXElement","createElement","Fragment","createLoader","iconClassName","loadingIconProps","icon","spin","getJSXIcon","_","numCols","defaultContentOptions","loaderProps","createSpacer","spacerProps","createItem","createItems","createContent","contentProps","defaultOptions","contentRef","el","getRefElement","spacerRef","stickyRef","getItemOptions","getLoaderOptions","ext","loader","_content","spacer","rootProps","getOtherProps","displayName"],"sources":["C:/Users/hp/IdeaProjects/volunteerWeb/full-stack/frontend/node_modules/primereact/virtualscroller/virtualscroller.esm.js"],"sourcesContent":["'use client';\r\nimport * as React from 'react';\r\nimport { PrimeReactContext } from 'primereact/api';\r\nimport { useMergeProps, usePrevious, useStyle, useResizeListener, useEventListener, useMountEffect, useUpdateEffect } from 'primereact/hooks';\r\nimport { SpinnerIcon } from 'primereact/icons/spinner';\r\nimport { DomHandler, ObjectUtils, classNames, IconUtils } from 'primereact/utils';\r\nimport { ComponentBase } from 'primereact/componentbase';\r\n\r\nfunction _extends() {\r\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n      var source = arguments[i];\r\n      for (var key in source) {\r\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n          target[key] = source[key];\r\n        }\r\n      }\r\n    }\r\n    return target;\r\n  };\r\n  return _extends.apply(this, arguments);\r\n}\r\n\r\nfunction _typeof(o) {\r\n  \"@babel/helpers - typeof\";\r\n\r\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\r\n    return typeof o;\r\n  } : function (o) {\r\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\r\n  }, _typeof(o);\r\n}\r\n\r\nfunction _toPrimitive(input, hint) {\r\n  if (_typeof(input) !== \"object\" || input === null) return input;\r\n  var prim = input[Symbol.toPrimitive];\r\n  if (prim !== undefined) {\r\n    var res = prim.call(input, hint || \"default\");\r\n    if (_typeof(res) !== \"object\") return res;\r\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\r\n  }\r\n  return (hint === \"string\" ? String : Number)(input);\r\n}\r\n\r\nfunction _toPropertyKey(arg) {\r\n  var key = _toPrimitive(arg, \"string\");\r\n  return _typeof(key) === \"symbol\" ? key : String(key);\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n  key = _toPropertyKey(key);\r\n  if (key in obj) {\r\n    Object.defineProperty(obj, key, {\r\n      value: value,\r\n      enumerable: true,\r\n      configurable: true,\r\n      writable: true\r\n    });\r\n  } else {\r\n    obj[key] = value;\r\n  }\r\n  return obj;\r\n}\r\n\r\nfunction _arrayWithHoles(arr) {\r\n  if (Array.isArray(arr)) return arr;\r\n}\r\n\r\nfunction _iterableToArrayLimit(r, l) {\r\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\r\n  if (null != t) {\r\n    var e,\r\n      n,\r\n      i,\r\n      u,\r\n      a = [],\r\n      f = !0,\r\n      o = !1;\r\n    try {\r\n      if (i = (t = t.call(r)).next, 0 === l) {\r\n        if (Object(t) !== t) return;\r\n        f = !1;\r\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\r\n    } catch (r) {\r\n      o = !0, n = r;\r\n    } finally {\r\n      try {\r\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\r\n      } finally {\r\n        if (o) throw n;\r\n      }\r\n    }\r\n    return a;\r\n  }\r\n}\r\n\r\nfunction _arrayLikeToArray(arr, len) {\r\n  if (len == null || len > arr.length) len = arr.length;\r\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\r\n  return arr2;\r\n}\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) {\r\n  if (!o) return;\r\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\r\n  var n = Object.prototype.toString.call(o).slice(8, -1);\r\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\r\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\r\n}\r\n\r\nfunction _nonIterableRest() {\r\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n}\r\n\r\nfunction _slicedToArray(arr, i) {\r\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\r\n}\r\n\r\nvar styles = \"\\n.p-virtualscroller {\\n    position: relative;\\n    overflow: auto;\\n    contain: strict;\\n    transform: translateZ(0);\\n    will-change: scroll-position;\\n    outline: 0 none;\\n}\\n\\n.p-virtualscroller-content {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    /*contain: content;*/\\n    min-height: 100%;\\n    min-width: 100%;\\n    will-change: transform;\\n}\\n\\n.p-virtualscroller-spacer {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 1px;\\n    width: 1px;\\n    transform-origin: 0 0;\\n    pointer-events: none;\\n}\\n\\n.p-virtualscroller-loader {\\n    position: sticky;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n.p-virtualscroller-loader.p-component-overlay {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n}\\n\\n.p-virtualscroller-loading-icon {\\n    font-size: 2rem;\\n}\\n\\n.p-virtualscroller-horizontal > .p-virtualscroller-content {\\n    display: flex;\\n}\\n\\n/* Inline */\\n.p-virtualscroller-inline .p-virtualscroller-content {\\n    position: static;\\n}\\n\";\r\nvar VirtualScrollerBase = ComponentBase.extend({\r\n  defaultProps: {\r\n    __TYPE: 'VirtualScroller',\r\n    __parentMetadata: null,\r\n    id: null,\r\n    style: null,\r\n    className: null,\r\n    tabIndex: 0,\r\n    items: null,\r\n    itemSize: 0,\r\n    scrollHeight: null,\r\n    scrollWidth: null,\r\n    orientation: 'vertical',\r\n    step: 0,\r\n    numToleratedItems: null,\r\n    delay: 0,\r\n    resizeDelay: 10,\r\n    appendOnly: false,\r\n    inline: false,\r\n    lazy: false,\r\n    disabled: false,\r\n    loaderDisabled: false,\r\n    loadingIcon: null,\r\n    columns: null,\r\n    loading: undefined,\r\n    autoSize: false,\r\n    showSpacer: true,\r\n    showLoader: false,\r\n    loadingTemplate: null,\r\n    loaderIconTemplate: null,\r\n    itemTemplate: null,\r\n    contentTemplate: null,\r\n    onScroll: null,\r\n    onScrollIndexChange: null,\r\n    onLazyLoad: null,\r\n    children: undefined\r\n  },\r\n  css: {\r\n    styles: styles\r\n  }\r\n});\r\n\r\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\r\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\r\nvar VirtualScroller = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\r\n  var mergeProps = useMergeProps();\r\n  var context = React.useContext(PrimeReactContext);\r\n  var props = VirtualScrollerBase.getProps(inProps, context);\r\n  var prevProps = usePrevious(inProps) || {};\r\n  var vertical = props.orientation === 'vertical';\r\n  var horizontal = props.orientation === 'horizontal';\r\n  var both = props.orientation === 'both';\r\n  var _React$useState = React.useState(both ? {\r\n      rows: 0,\r\n      cols: 0\r\n    } : 0),\r\n    _React$useState2 = _slicedToArray(_React$useState, 2),\r\n    firstState = _React$useState2[0],\r\n    setFirstState = _React$useState2[1];\r\n  var _React$useState3 = React.useState(both ? {\r\n      rows: 0,\r\n      cols: 0\r\n    } : 0),\r\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\r\n    lastState = _React$useState4[0],\r\n    setLastState = _React$useState4[1];\r\n  var _React$useState5 = React.useState(0),\r\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\r\n    pageState = _React$useState6[0],\r\n    setPageState = _React$useState6[1];\r\n  var _React$useState7 = React.useState(both ? {\r\n      rows: 0,\r\n      cols: 0\r\n    } : 0),\r\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\r\n    numItemsInViewportState = _React$useState8[0],\r\n    setNumItemsInViewportState = _React$useState8[1];\r\n  var _React$useState9 = React.useState(props.numToleratedItems),\r\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\r\n    numToleratedItemsState = _React$useState10[0],\r\n    setNumToleratedItemsState = _React$useState10[1];\r\n  var _React$useState11 = React.useState(props.loading || false),\r\n    _React$useState12 = _slicedToArray(_React$useState11, 2),\r\n    loadingState = _React$useState12[0],\r\n    setLoadingState = _React$useState12[1];\r\n  var _React$useState13 = React.useState([]),\r\n    _React$useState14 = _slicedToArray(_React$useState13, 2),\r\n    loaderArrState = _React$useState14[0],\r\n    setLoaderArrState = _React$useState14[1];\r\n  var _VirtualScrollerBase$ = VirtualScrollerBase.setMetaData({\r\n      props: props,\r\n      state: {\r\n        first: firstState,\r\n        last: lastState,\r\n        page: pageState,\r\n        numItemsInViewport: numItemsInViewportState,\r\n        numToleratedItems: numToleratedItemsState,\r\n        loading: loadingState,\r\n        loaderArr: loaderArrState\r\n      }\r\n    }),\r\n    ptm = _VirtualScrollerBase$.ptm;\r\n  useStyle(VirtualScrollerBase.css.styles, {\r\n    name: 'virtualscroller'\r\n  });\r\n  var elementRef = React.useRef(null);\r\n  var _contentRef = React.useRef(null);\r\n  var _spacerRef = React.useRef(null);\r\n  var _stickyRef = React.useRef(null);\r\n  var lastScrollPos = React.useRef(both ? {\r\n    top: 0,\r\n    left: 0\r\n  } : 0);\r\n  var scrollTimeout = React.useRef(null);\r\n  var resizeTimeout = React.useRef(null);\r\n  var contentStyle = React.useRef({});\r\n  var spacerStyle = React.useRef({});\r\n  var defaultWidth = React.useRef(null);\r\n  var defaultHeight = React.useRef(null);\r\n  var defaultContentWidth = React.useRef(null);\r\n  var defaultContentHeight = React.useRef(null);\r\n  var isItemRangeChanged = React.useRef(false);\r\n  var lazyLoadState = React.useRef(null);\r\n  var _useResizeListener = useResizeListener({\r\n      listener: function listener(event) {\r\n        return onResize();\r\n      },\r\n      when: !props.disabled\r\n    }),\r\n    _useResizeListener2 = _slicedToArray(_useResizeListener, 1),\r\n    bindWindowResizeListener = _useResizeListener2[0];\r\n  var _useEventListener = useEventListener({\r\n      target: 'window',\r\n      type: 'orientationchange',\r\n      listener: function listener(event) {\r\n        return onResize();\r\n      },\r\n      when: !props.disabled\r\n    }),\r\n    _useEventListener2 = _slicedToArray(_useEventListener, 1),\r\n    bindOrientationChangeListener = _useEventListener2[0];\r\n  var getElementRef = function getElementRef() {\r\n    return elementRef;\r\n  };\r\n  var getPageByFirst = function getPageByFirst(first) {\r\n    return Math.floor((first + numToleratedItemsState * 4) / (props.step || 1));\r\n  };\r\n  var setContentElement = function setContentElement(element) {\r\n    _contentRef.current = element || _contentRef.current || DomHandler.findSingle(elementRef.current, '.p-virtualscroller-content');\r\n  };\r\n  var isPageChanged = function isPageChanged(first) {\r\n    return props.step ? pageState !== getPageByFirst(first) : true;\r\n  };\r\n  var scrollTo = function scrollTo(options) {\r\n    lastScrollPos.current = both ? {\r\n      top: 0,\r\n      left: 0\r\n    } : 0;\r\n    elementRef.current && elementRef.current.scrollTo(options);\r\n  };\r\n  var scrollToIndex = function scrollToIndex(index) {\r\n    var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\r\n    var _calculateNumItems = calculateNumItems(),\r\n      numToleratedItems = _calculateNumItems.numToleratedItems;\r\n    var contentPos = getContentPosition();\r\n    var calculateFirst = function calculateFirst() {\r\n      var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var _numT = arguments.length > 1 ? arguments[1] : undefined;\r\n      return _index <= _numT ? 0 : _index;\r\n    };\r\n    var calculateCoord = function calculateCoord(_first, _size, _cpos) {\r\n      return _first * _size + _cpos;\r\n    };\r\n    var scrollToItem = function scrollToItem() {\r\n      var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n      return scrollTo({\r\n        left: left,\r\n        top: top,\r\n        behavior: behavior\r\n      });\r\n    };\r\n    var newFirst = both ? {\r\n      rows: 0,\r\n      cols: 0\r\n    } : 0;\r\n    var isRangeChanged = false;\r\n    if (both) {\r\n      newFirst = {\r\n        rows: calculateFirst(index[0], numToleratedItems[0]),\r\n        cols: calculateFirst(index[1], numToleratedItems[1])\r\n      };\r\n      scrollToItem(calculateCoord(newFirst.cols, props.itemSize[1], contentPos.left), calculateCoord(newFirst.rows, props.itemSize[0], contentPos.top));\r\n      isRangeChanged = firstState.rows !== newFirst.rows || firstState.cols !== newFirst.cols;\r\n    } else {\r\n      newFirst = calculateFirst(index, numToleratedItems);\r\n      horizontal ? scrollToItem(calculateCoord(newFirst, props.itemSize, contentPos.left), 0) : scrollToItem(0, calculateCoord(newFirst, props.itemSize, contentPos.top));\r\n      isRangeChanged = firstState !== newFirst;\r\n    }\r\n    isItemRangeChanged.current = isRangeChanged;\r\n    setFirstState(newFirst);\r\n  };\r\n  var scrollInView = function scrollInView(index, to) {\r\n    var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\r\n    if (to) {\r\n      var _getRenderedRange = getRenderedRange(),\r\n        first = _getRenderedRange.first,\r\n        viewport = _getRenderedRange.viewport;\r\n      var scrollToItem = function scrollToItem() {\r\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n        return scrollTo({\r\n          left: left,\r\n          top: top,\r\n          behavior: behavior\r\n        });\r\n      };\r\n      var isToStart = to === 'to-start';\r\n      var isToEnd = to === 'to-end';\r\n      if (isToStart) {\r\n        if (both) {\r\n          if (viewport.first.rows - first.rows > index[0]) {\r\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows - 1) * props.itemSize[0]);\r\n          } else if (viewport.first.cols - first.cols > index[1]) {\r\n            scrollToItem((viewport.first.cols - 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\r\n          }\r\n        } else {\r\n          if (viewport.first - first > index) {\r\n            var pos = (viewport.first - 1) * props.itemSize;\r\n            horizontal ? scrollToItem(pos, 0) : scrollToItem(0, pos);\r\n          }\r\n        }\r\n      } else if (isToEnd) {\r\n        if (both) {\r\n          if (viewport.last.rows - first.rows <= index[0] + 1) {\r\n            scrollToItem(viewport.first.cols * props.itemSize[1], (viewport.first.rows + 1) * props.itemSize[0]);\r\n          } else if (viewport.last.cols - first.cols <= index[1] + 1) {\r\n            scrollToItem((viewport.first.cols + 1) * props.itemSize[1], viewport.first.rows * props.itemSize[0]);\r\n          }\r\n        } else {\r\n          if (viewport.last - first <= index + 1) {\r\n            var _pos2 = (viewport.first + 1) * props.itemSize;\r\n            horizontal ? scrollToItem(_pos2, 0) : scrollToItem(0, _pos2);\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      scrollToIndex(index, behavior);\r\n    }\r\n  };\r\n  var getRows = function getRows() {\r\n    return loadingState ? props.loaderDisabled ? loaderArrState : [] : loadedItems();\r\n  };\r\n  var getColumns = function getColumns() {\r\n    if (props.columns && both || horizontal) {\r\n      return loadingState && props.loaderDisabled ? both ? loaderArrState[0] : loaderArrState : props.columns.slice(both ? firstState.cols : firstState, both ? lastState.cols : lastState);\r\n    }\r\n    return props.columns;\r\n  };\r\n  var getRenderedRange = function getRenderedRange() {\r\n    var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\r\n      return Math.floor(_pos / (_size || _pos));\r\n    };\r\n    var firstInViewport = firstState;\r\n    var lastInViewport = 0;\r\n    if (elementRef.current) {\r\n      var _elementRef$current = elementRef.current,\r\n        scrollTop = _elementRef$current.scrollTop,\r\n        scrollLeft = _elementRef$current.scrollLeft;\r\n      if (both) {\r\n        firstInViewport = {\r\n          rows: calculateFirstInViewport(scrollTop, props.itemSize[0]),\r\n          cols: calculateFirstInViewport(scrollLeft, props.itemSize[1])\r\n        };\r\n        lastInViewport = {\r\n          rows: firstInViewport.rows + numItemsInViewportState.rows,\r\n          cols: firstInViewport.cols + numItemsInViewportState.cols\r\n        };\r\n      } else {\r\n        var scrollPos = horizontal ? scrollLeft : scrollTop;\r\n        firstInViewport = calculateFirstInViewport(scrollPos, props.itemSize);\r\n        lastInViewport = firstInViewport + numItemsInViewportState;\r\n      }\r\n    }\r\n    return {\r\n      first: firstState,\r\n      last: lastState,\r\n      viewport: {\r\n        first: firstInViewport,\r\n        last: lastInViewport\r\n      }\r\n    };\r\n  };\r\n  var calculateNumItems = function calculateNumItems() {\r\n    var contentPos = getContentPosition();\r\n    var contentWidth = elementRef.current ? elementRef.current.offsetWidth - contentPos.left : 0;\r\n    var contentHeight = elementRef.current ? elementRef.current.offsetHeight - contentPos.top : 0;\r\n    var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\r\n      return Math.ceil(_contentSize / (_itemSize || _contentSize));\r\n    };\r\n    var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\r\n      return Math.ceil(_numItems / 2);\r\n    };\r\n    var numItemsInViewport = both ? {\r\n      rows: calculateNumItemsInViewport(contentHeight, props.itemSize[0]),\r\n      cols: calculateNumItemsInViewport(contentWidth, props.itemSize[1])\r\n    } : calculateNumItemsInViewport(horizontal ? contentWidth : contentHeight, props.itemSize);\r\n    var numToleratedItems = numToleratedItemsState || (both ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\r\n    return {\r\n      numItemsInViewport: numItemsInViewport,\r\n      numToleratedItems: numToleratedItems\r\n    };\r\n  };\r\n  var calculateOptions = function calculateOptions() {\r\n    var _calculateNumItems2 = calculateNumItems(),\r\n      numItemsInViewport = _calculateNumItems2.numItemsInViewport,\r\n      numToleratedItems = _calculateNumItems2.numToleratedItems;\r\n    var calculateLast = function calculateLast(_first, _num, _numT) {\r\n      var _isCols = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\r\n      return getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\r\n    };\r\n    var last = both ? {\r\n      rows: calculateLast(firstState.rows, numItemsInViewport.rows, numToleratedItems[0]),\r\n      cols: calculateLast(firstState.cols, numItemsInViewport.cols, numToleratedItems[1], true)\r\n    } : calculateLast(firstState, numItemsInViewport, numToleratedItems);\r\n    setNumItemsInViewportState(numItemsInViewport);\r\n    setNumToleratedItemsState(numToleratedItems);\r\n    setLastState(last);\r\n    if (props.showLoader) {\r\n      setLoaderArrState(both ? Array.from({\r\n        length: numItemsInViewport.rows\r\n      }).map(function () {\r\n        return Array.from({\r\n          length: numItemsInViewport.cols\r\n        });\r\n      }) : Array.from({\r\n        length: numItemsInViewport\r\n      }));\r\n    }\r\n    if (props.lazy) {\r\n      Promise.resolve().then(function () {\r\n        lazyLoadState.current = {\r\n          first: props.step ? both ? {\r\n            rows: 0,\r\n            cols: firstState.cols\r\n          } : 0 : firstState,\r\n          last: Math.min(props.step ? props.step : last, (props.items || []).length)\r\n        };\r\n        props.onLazyLoad && props.onLazyLoad(lazyLoadState.current);\r\n      });\r\n    }\r\n  };\r\n  var calculateAutoSize = function calculateAutoSize(loading) {\r\n    if (props.autoSize && !loading) {\r\n      Promise.resolve().then(function () {\r\n        if (_contentRef.current) {\r\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = 'auto';\r\n          _contentRef.current.style.position = 'relative';\r\n          elementRef.current.style.contain = 'none';\r\n\r\n          /*const [contentWidth, contentHeight] = [DomHandler.getWidth(contentRef.current), DomHandler.getHeight(contentRef.current)];\r\n           contentWidth !== defaultContentWidth.current && (elementRef.current.style.width = '');\r\n          contentHeight !== defaultContentHeight.current && (elementRef.current.style.height = '');*/\r\n\r\n          var _ref = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\r\n            width = _ref[0],\r\n            height = _ref[1];\r\n          (both || horizontal) && (elementRef.current.style.width = (width < defaultWidth.current ? width : props.scrollWidth || defaultWidth.current) + 'px');\r\n          (both || vertical) && (elementRef.current.style.height = (height < defaultHeight.current ? height : props.scrollHeight || defaultHeight.current) + 'px');\r\n          _contentRef.current.style.minHeight = _contentRef.current.style.minWidth = '';\r\n          _contentRef.current.style.position = '';\r\n          elementRef.current.style.contain = '';\r\n        }\r\n      });\r\n    }\r\n  };\r\n  var getLast = function getLast() {\r\n    var _ref2;\r\n    var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n    var isCols = arguments.length > 1 ? arguments[1] : undefined;\r\n    return props.items ? Math.min(isCols ? ((_ref2 = props.columns || props.items[0]) === null || _ref2 === void 0 ? void 0 : _ref2.length) || 0 : (props.items || []).length, last) : 0;\r\n  };\r\n  var getContentPosition = function getContentPosition() {\r\n    if (_contentRef.current) {\r\n      var style = getComputedStyle(_contentRef.current);\r\n      var left = parseFloat(style.paddingLeft) + Math.max(parseFloat(style.left) || 0, 0);\r\n      var right = parseFloat(style.paddingRight) + Math.max(parseFloat(style.right) || 0, 0);\r\n      var top = parseFloat(style.paddingTop) + Math.max(parseFloat(style.top) || 0, 0);\r\n      var bottom = parseFloat(style.paddingBottom) + Math.max(parseFloat(style.bottom) || 0, 0);\r\n      return {\r\n        left: left,\r\n        right: right,\r\n        top: top,\r\n        bottom: bottom,\r\n        x: left + right,\r\n        y: top + bottom\r\n      };\r\n    }\r\n    return {\r\n      left: 0,\r\n      right: 0,\r\n      top: 0,\r\n      bottom: 0,\r\n      x: 0,\r\n      y: 0\r\n    };\r\n  };\r\n  var setSize = function setSize() {\r\n    if (elementRef.current) {\r\n      var parentElement = elementRef.current.parentElement;\r\n      var width = props.scrollWidth || \"\".concat(elementRef.current.offsetWidth || parentElement.offsetWidth, \"px\");\r\n      var height = props.scrollHeight || \"\".concat(elementRef.current.offsetHeight || parentElement.offsetHeight, \"px\");\r\n      var setProp = function setProp(_name, _value) {\r\n        return elementRef.current.style[_name] = _value;\r\n      };\r\n      if (both || horizontal) {\r\n        setProp('height', height);\r\n        setProp('width', width);\r\n      } else {\r\n        setProp('height', height);\r\n      }\r\n    }\r\n  };\r\n  var setSpacerSize = function setSpacerSize() {\r\n    var items = props.items;\r\n    if (items) {\r\n      var contentPos = getContentPosition();\r\n      var setProp = function setProp(_name, _value, _size) {\r\n        var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\r\n        return spacerStyle.current = _objectSpread(_objectSpread({}, spacerStyle.current), _defineProperty({}, \"\".concat(_name), (_value || []).length * _size + _cpos + 'px'));\r\n      };\r\n      if (both) {\r\n        setProp('height', items, props.itemSize[0], contentPos.y);\r\n        setProp('width', props.columns || items[1], props.itemSize[1], contentPos.x);\r\n      } else {\r\n        horizontal ? setProp('width', props.columns || items, props.itemSize, contentPos.x) : setProp('height', items, props.itemSize, contentPos.y);\r\n      }\r\n    }\r\n  };\r\n  var setContentPosition = function setContentPosition(pos) {\r\n    if (_contentRef.current && !props.appendOnly) {\r\n      var first = pos ? pos.first : firstState;\r\n      var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\r\n        return _first * _size;\r\n      };\r\n      var setTransform = function setTransform() {\r\n        var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n        var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n        _stickyRef.current && (_stickyRef.current.style.top = \"-\".concat(_y, \"px\"));\r\n        contentStyle.current = _objectSpread(_objectSpread({}, contentStyle.current), {\r\n          transform: \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\")\r\n        });\r\n      };\r\n      if (both) {\r\n        setTransform(calculateTranslateVal(first.cols, props.itemSize[1]), calculateTranslateVal(first.rows, props.itemSize[0]));\r\n      } else {\r\n        var translateVal = calculateTranslateVal(first, props.itemSize);\r\n        horizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\r\n      }\r\n    }\r\n  };\r\n  var onScrollPositionChange = function onScrollPositionChange(event) {\r\n    var target = event.target;\r\n    var contentPos = getContentPosition();\r\n    var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\r\n      return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\r\n    };\r\n    var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\r\n      return Math.floor(_pos / (_size || _pos));\r\n    };\r\n    var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\r\n      return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\r\n    };\r\n    var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\r\n      if (_currentIndex <= _numT) return 0;else return Math.max(0, _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT);\r\n    };\r\n    var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\r\n      var lastValue = _first + _num + 2 * _numT;\r\n      if (_currentIndex >= _numT) {\r\n        lastValue += _numT + 1;\r\n      }\r\n      return getLast(lastValue, _isCols);\r\n    };\r\n    var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\r\n    var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\r\n    var newFirst = both ? {\r\n      rows: 0,\r\n      cols: 0\r\n    } : 0;\r\n    var newLast = lastState;\r\n    var isRangeChanged = false;\r\n    var newScrollPos = lastScrollPos.current;\r\n    if (both) {\r\n      var isScrollDown = lastScrollPos.current.top <= scrollTop;\r\n      var isScrollRight = lastScrollPos.current.left <= scrollLeft;\r\n      if (!props.appendOnly || props.appendOnly && (isScrollDown || isScrollRight)) {\r\n        var currentIndex = {\r\n          rows: calculateCurrentIndex(scrollTop, props.itemSize[0]),\r\n          cols: calculateCurrentIndex(scrollLeft, props.itemSize[1])\r\n        };\r\n        var triggerIndex = {\r\n          rows: calculateTriggerIndex(currentIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\r\n          cols: calculateTriggerIndex(currentIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\r\n        };\r\n        newFirst = {\r\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, firstState.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0], isScrollDown),\r\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, firstState.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], isScrollRight)\r\n        };\r\n        newLast = {\r\n          rows: calculateLast(currentIndex.rows, newFirst.rows, lastState.rows, numItemsInViewportState.rows, numToleratedItemsState[0]),\r\n          cols: calculateLast(currentIndex.cols, newFirst.cols, lastState.cols, numItemsInViewportState.cols, numToleratedItemsState[1], true)\r\n        };\r\n        isRangeChanged = newFirst.rows !== firstState.rows || newLast.rows !== lastState.rows || newFirst.cols !== firstState.cols || newLast.cols !== lastState.cols || isItemRangeChanged.current;\r\n        newScrollPos = {\r\n          top: scrollTop,\r\n          left: scrollLeft\r\n        };\r\n      }\r\n    } else {\r\n      var scrollPos = horizontal ? scrollLeft : scrollTop;\r\n      var isScrollDownOrRight = lastScrollPos.current <= scrollPos;\r\n      if (!props.appendOnly || props.appendOnly && isScrollDownOrRight) {\r\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, props.itemSize);\r\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\r\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, firstState, lastState, numItemsInViewportState, numToleratedItemsState, isScrollDownOrRight);\r\n        newLast = calculateLast(_currentIndex2, newFirst, lastState, numItemsInViewportState, numToleratedItemsState);\r\n        isRangeChanged = newFirst !== firstState || newLast !== lastState || isItemRangeChanged.current;\r\n        newScrollPos = scrollPos;\r\n      }\r\n    }\r\n    return {\r\n      first: newFirst,\r\n      last: newLast,\r\n      isRangeChanged: isRangeChanged,\r\n      scrollPos: newScrollPos\r\n    };\r\n  };\r\n  var onScrollChange = function onScrollChange(event) {\r\n    var _onScrollPositionChan = onScrollPositionChange(event),\r\n      first = _onScrollPositionChan.first,\r\n      last = _onScrollPositionChan.last,\r\n      isRangeChanged = _onScrollPositionChan.isRangeChanged,\r\n      scrollPos = _onScrollPositionChan.scrollPos;\r\n    if (isRangeChanged) {\r\n      var newState = {\r\n        first: first,\r\n        last: last\r\n      };\r\n      setContentPosition(newState);\r\n      setFirstState(first);\r\n      setLastState(last);\r\n      lastScrollPos.current = scrollPos;\r\n      props.onScrollIndexChange && props.onScrollIndexChange(newState);\r\n      if (props.lazy && isPageChanged(first)) {\r\n        var newLazyLoadState = {\r\n          first: props.step ? Math.min(getPageByFirst(first) * props.step, (props.items || []).length - props.step) : first,\r\n          last: Math.min(props.step ? (getPageByFirst(first) + 1) * props.step : last, (props.items || []).length)\r\n        };\r\n        var isLazyStateChanged = !lazyLoadState.current || lazyLoadState.current.first !== newLazyLoadState.first || lazyLoadState.current.last !== newLazyLoadState.last;\r\n        isLazyStateChanged && props.onLazyLoad && props.onLazyLoad(newLazyLoadState);\r\n        lazyLoadState.current = newLazyLoadState;\r\n      }\r\n    }\r\n  };\r\n  var _onScroll = function onScroll(event) {\r\n    props.onScroll && props.onScroll(event);\r\n    if (props.delay) {\r\n      if (scrollTimeout.current) {\r\n        clearTimeout(scrollTimeout.current);\r\n      }\r\n      if (isPageChanged(firstState)) {\r\n        if (!loadingState && props.showLoader) {\r\n          var _onScrollPositionChan2 = onScrollPositionChange(event),\r\n            isRangeChanged = _onScrollPositionChan2.isRangeChanged;\r\n          var changed = isRangeChanged || (props.step ? isPageChanged(firstState) : false);\r\n          changed && setLoadingState(true);\r\n        }\r\n        scrollTimeout.current = setTimeout(function () {\r\n          onScrollChange(event);\r\n          if (loadingState && props.showLoader && (!props.lazy || props.loading === undefined)) {\r\n            setLoadingState(false);\r\n            setPageState(getPageByFirst(firstState));\r\n          }\r\n        }, props.delay);\r\n      }\r\n    } else {\r\n      onScrollChange(event);\r\n    }\r\n  };\r\n  var onResize = function onResize() {\r\n    if (resizeTimeout.current) {\r\n      clearTimeout(resizeTimeout.current);\r\n    }\r\n    resizeTimeout.current = setTimeout(function () {\r\n      if (elementRef.current) {\r\n        var _ref3 = [DomHandler.getWidth(elementRef.current), DomHandler.getHeight(elementRef.current)],\r\n          width = _ref3[0],\r\n          height = _ref3[1];\r\n        var isDiffWidth = width !== defaultWidth.current,\r\n          isDiffHeight = height !== defaultHeight.current;\r\n        var reinit = both ? isDiffWidth || isDiffHeight : horizontal ? isDiffWidth : vertical ? isDiffHeight : false;\r\n        if (reinit) {\r\n          setNumToleratedItemsState(props.numToleratedItems);\r\n          defaultWidth.current = width;\r\n          defaultHeight.current = height;\r\n          defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\r\n          defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\r\n        }\r\n      }\r\n    }, props.resizeDelay);\r\n  };\r\n  var getOptions = function getOptions(renderedIndex) {\r\n    var count = (props.items || []).length;\r\n    var index = both ? firstState.rows + renderedIndex : firstState + renderedIndex;\r\n    return {\r\n      index: index,\r\n      count: count,\r\n      first: index === 0,\r\n      last: index === count - 1,\r\n      even: index % 2 === 0,\r\n      odd: index % 2 !== 0,\r\n      props: props\r\n    };\r\n  };\r\n  var loaderOptions = function loaderOptions(index, extOptions) {\r\n    var count = loaderArrState.length || 0;\r\n    return _objectSpread({\r\n      index: index,\r\n      count: count,\r\n      first: index === 0,\r\n      last: index === count - 1,\r\n      even: index % 2 === 0,\r\n      odd: index % 2 !== 0,\r\n      props: props\r\n    }, extOptions);\r\n  };\r\n  var loadedItems = function loadedItems() {\r\n    var items = props.items;\r\n    if (items && !loadingState) {\r\n      if (both) return items.slice(props.appendOnly ? 0 : firstState.rows, lastState.rows).map(function (item) {\r\n        return props.columns ? item : item.slice(props.appendOnly ? 0 : firstState.cols, lastState.cols);\r\n      });else if (horizontal && props.columns) return items;else return items.slice(props.appendOnly ? 0 : firstState, lastState);\r\n    }\r\n    return [];\r\n  };\r\n  var viewInit = function viewInit() {\r\n    if (elementRef.current && DomHandler.isVisible(elementRef.current)) {\r\n      setContentElement(_contentRef.current);\r\n      init();\r\n      bindWindowResizeListener();\r\n      bindOrientationChangeListener();\r\n      defaultWidth.current = DomHandler.getWidth(elementRef.current);\r\n      defaultHeight.current = DomHandler.getHeight(elementRef.current);\r\n      defaultContentWidth.current = DomHandler.getWidth(_contentRef.current);\r\n      defaultContentHeight.current = DomHandler.getHeight(_contentRef.current);\r\n    }\r\n  };\r\n  var init = function init() {\r\n    if (!props.disabled) {\r\n      setSize();\r\n      calculateOptions();\r\n      setSpacerSize();\r\n    }\r\n  };\r\n  useMountEffect(function () {\r\n    viewInit();\r\n  });\r\n  useUpdateEffect(function () {\r\n    init();\r\n  }, [props.itemSize, props.scrollHeight, props.scrollWidth]);\r\n  useUpdateEffect(function () {\r\n    if (props.numToleratedItems !== numToleratedItemsState) {\r\n      setNumToleratedItemsState(props.numToleratedItems);\r\n    }\r\n  }, [props.numToleratedItems]);\r\n  useUpdateEffect(function () {\r\n    if (props.numToleratedItems === numToleratedItemsState) {\r\n      init(); // reinit after resizing\r\n    }\r\n  }, [numToleratedItemsState]);\r\n  useUpdateEffect(function () {\r\n    if (!prevProps.items || prevProps.items.length !== (props.items || []).length) {\r\n      init();\r\n    }\r\n    var loading = loadingState;\r\n    if (props.lazy && prevProps.loading !== props.loading && props.loading !== loadingState) {\r\n      setLoadingState(props.loading);\r\n      loading = props.loading;\r\n    }\r\n    calculateAutoSize(loading);\r\n  });\r\n  useUpdateEffect(function () {\r\n    lastScrollPos.current = both ? {\r\n      top: 0,\r\n      left: 0\r\n    } : 0;\r\n  }, [props.orientation]);\r\n  React.useImperativeHandle(ref, function () {\r\n    return {\r\n      props: props,\r\n      getElementRef: getElementRef,\r\n      scrollTo: scrollTo,\r\n      scrollToIndex: scrollToIndex,\r\n      scrollInView: scrollInView,\r\n      getRenderedRange: getRenderedRange\r\n    };\r\n  });\r\n  var createLoaderItem = function createLoaderItem(index) {\r\n    var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n    var options = loaderOptions(index, extOptions);\r\n    var content = ObjectUtils.getJSXElement(props.loadingTemplate, options);\r\n    return /*#__PURE__*/React.createElement(React.Fragment, {\r\n      key: index\r\n    }, content);\r\n  };\r\n  var createLoader = function createLoader() {\r\n    var iconClassName = 'p-virtualscroller-loading-icon';\r\n    var loadingIconProps = mergeProps({\r\n      className: iconClassName\r\n    }, ptm('loadingIcon'));\r\n    var icon = props.loadingIcon || /*#__PURE__*/React.createElement(SpinnerIcon, _extends({}, loadingIconProps, {\r\n      spin: true\r\n    }));\r\n    var loadingIcon = IconUtils.getJSXIcon(icon, _objectSpread({}, loadingIconProps), {\r\n      props: props\r\n    });\r\n    if (!props.loaderDisabled && props.showLoader && loadingState) {\r\n      var className = classNames('p-virtualscroller-loader', {\r\n        'p-component-overlay': !props.loadingTemplate\r\n      });\r\n      var content = loadingIcon;\r\n      if (props.loadingTemplate) {\r\n        content = loaderArrState.map(function (_, index) {\r\n          return createLoaderItem(index, both && {\r\n            numCols: numItemsInViewportState.cols\r\n          });\r\n        });\r\n      } else if (props.loaderIconTemplate) {\r\n        var defaultContentOptions = {\r\n          iconClassName: iconClassName,\r\n          element: content,\r\n          props: props\r\n        };\r\n        content = ObjectUtils.getJSXElement(props.loaderIconTemplate, defaultContentOptions);\r\n      }\r\n      var loaderProps = mergeProps({\r\n        className: className\r\n      }, ptm('loader'));\r\n      return /*#__PURE__*/React.createElement(\"div\", loaderProps, content);\r\n    }\r\n    return null;\r\n  };\r\n  var createSpacer = function createSpacer() {\r\n    if (props.showSpacer) {\r\n      var spacerProps = mergeProps({\r\n        ref: _spacerRef,\r\n        style: spacerStyle.current,\r\n        className: 'p-virtualscroller-spacer'\r\n      }, ptm('spacer'));\r\n      return /*#__PURE__*/React.createElement(\"div\", spacerProps);\r\n    }\r\n    return null;\r\n  };\r\n  var createItem = function createItem(item, index) {\r\n    var options = getOptions(index);\r\n    var content = ObjectUtils.getJSXElement(props.itemTemplate, item, options);\r\n    return /*#__PURE__*/React.createElement(React.Fragment, {\r\n      key: options.index\r\n    }, content);\r\n  };\r\n  var createItems = function createItems() {\r\n    var items = loadedItems();\r\n    return items.map(createItem);\r\n  };\r\n  var createContent = function createContent() {\r\n    var items = createItems();\r\n    var className = classNames('p-virtualscroller-content', {\r\n      'p-virtualscroller-loading': loadingState\r\n    });\r\n    var contentProps = mergeProps({\r\n      ref: _contentRef,\r\n      style: contentStyle.current,\r\n      className: className\r\n    }, ptm('content'));\r\n    var content = /*#__PURE__*/React.createElement(\"div\", contentProps, items);\r\n    if (props.contentTemplate) {\r\n      var defaultOptions = {\r\n        style: contentStyle.current,\r\n        className: className,\r\n        spacerStyle: spacerStyle.current,\r\n        contentRef: function contentRef(el) {\r\n          return _contentRef.current = ObjectUtils.getRefElement(el);\r\n        },\r\n        spacerRef: function spacerRef(el) {\r\n          return _spacerRef.current = ObjectUtils.getRefElement(el);\r\n        },\r\n        stickyRef: function stickyRef(el) {\r\n          return _stickyRef.current = ObjectUtils.getRefElement(el);\r\n        },\r\n        items: loadedItems(),\r\n        getItemOptions: function getItemOptions(index) {\r\n          return getOptions(index);\r\n        },\r\n        children: items,\r\n        element: content,\r\n        props: props,\r\n        loading: loadingState,\r\n        getLoaderOptions: function getLoaderOptions(index, ext) {\r\n          return loaderOptions(index, ext);\r\n        },\r\n        loadingTemplate: props.loadingTemplate,\r\n        itemSize: props.itemSize,\r\n        rows: getRows(),\r\n        columns: getColumns(),\r\n        vertical: vertical,\r\n        horizontal: horizontal,\r\n        both: both\r\n      };\r\n      return ObjectUtils.getJSXElement(props.contentTemplate, defaultOptions);\r\n    }\r\n    return content;\r\n  };\r\n  if (props.disabled) {\r\n    var content = ObjectUtils.getJSXElement(props.contentTemplate, {\r\n      items: props.items,\r\n      rows: props.items,\r\n      columns: props.columns\r\n    });\r\n    return /*#__PURE__*/React.createElement(React.Fragment, null, props.children, content);\r\n  } else {\r\n    var className = classNames('p-virtualscroller', {\r\n      'p-virtualscroller-inline': props.inline,\r\n      'p-virtualscroller-both p-both-scroll': both,\r\n      'p-virtualscroller-horizontal p-horizontal-scroll': horizontal\r\n    }, props.className);\r\n    var loader = createLoader();\r\n    var _content = createContent();\r\n    var spacer = createSpacer();\r\n    var rootProps = mergeProps({\r\n      ref: elementRef,\r\n      className: className,\r\n      tabIndex: props.tabIndex,\r\n      style: props.style,\r\n      onScroll: function onScroll(e) {\r\n        return _onScroll(e);\r\n      }\r\n    }, VirtualScrollerBase.getOtherProps(props), ptm('root'));\r\n    return /*#__PURE__*/React.createElement(\"div\", rootProps, _content, spacer, loader);\r\n  }\r\n}));\r\nVirtualScroller.displayName = 'VirtualScroller';\r\n\r\nexport { VirtualScroller };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}