{"ast":null,"code":"'use client';\n\nimport * as React from 'react';\nimport { PrimeReactContext, localeOption } from 'primereact/api';\nimport { ComponentBase, useHandleStyle } from 'primereact/componentbase';\nimport { useMergeProps } from 'primereact/hooks';\nimport { SearchIcon } from 'primereact/icons/search';\nimport { SpinnerIcon } from 'primereact/icons/spinner';\nimport { classNames, DomHandler, ObjectUtils, IconUtils } from 'primereact/utils';\nimport { CheckIcon } from 'primereact/icons/check';\nimport { ChevronDownIcon } from 'primereact/icons/chevrondown';\nimport { ChevronRightIcon } from 'primereact/icons/chevronright';\nimport { MinusIcon } from 'primereact/icons/minus';\nimport { Ripple } from 'primereact/ripple';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayLikeToArray$2(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$2(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray$2(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$2(arr) || _nonIterableSpread();\n}\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n\n  if (null != t) {\n    var e,\n        n,\n        i,\n        u,\n        a = [],\n        f = !0,\n        o = !1;\n\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n\n    return a;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$2(arr, i) || _nonIterableRest();\n}\n/* eslint-disable */\n\n\nvar useUpdateEffect = function useUpdateEffect(fn, deps) {\n  var mounted = React.useRef(false);\n  return React.useEffect(function () {\n    if (!mounted.current) {\n      mounted.current = true;\n      return;\n    }\n\n    return fn && fn();\n  }, deps);\n};\n/* eslint-enable */\n\n\nvar classes = {\n  container: 'p-tree-container',\n  loadingIcon: 'p-tree-loading-icon',\n  loadingOverlay: 'p-tree-loading-overlay p-component-overlay',\n  searchIcon: 'p-tree-filter-icon',\n  emptyMessage: 'p-treenode p-tree-empty-message',\n  filterContainer: 'p-tree-filter-container',\n  input: 'p-tree-filter p-inputtext p-component',\n  header: 'p-tree-header',\n  footer: 'p-tree-footer',\n  root: function root(_ref) {\n    var props = _ref.props;\n    return classNames('p-tree p-component', {\n      'p-tree-selectable': props.selectionMode,\n      'p-tree-loading': props.loading,\n      'p-disabled': props.disabled\n    });\n  },\n  label: 'p-treenode-label',\n  checkboxIcon: 'p-checkbox-icon p-c',\n  checkboxContainer: 'p-checkbox p-component',\n  checkbox: function checkbox(_ref2) {\n    var props = _ref2.nodeProps,\n        checked = _ref2.checked,\n        partialChecked = _ref2.partialChecked;\n    return classNames('p-checkbox-box', {\n      'p-highlight': checked,\n      'p-indeterminate': partialChecked,\n      'p-disabled': props.disabled\n    });\n  },\n  nodeIcon: 'p-treenode-icon',\n  togglerIcon: 'p-tree-toggler-icon',\n  toggler: 'p-tree-toggler p-link',\n  droppoint: 'p-treenode-droppoint',\n  content: function content(_ref3) {\n    var props = _ref3.nodeProps,\n        checked = _ref3.checked,\n        selected = _ref3.selected,\n        isCheckboxSelectionMode = _ref3.isCheckboxSelectionMode;\n    return classNames('p-treenode-content', {\n      'p-treenode-selectable': props.selectionMode && props.node.selectable !== false,\n      'p-highlight': isCheckboxSelectionMode() ? checked : selected,\n      'p-highlight-contextmenu': props.contextMenuSelectionKey && props.contextMenuSelectionKey === props.node.key,\n      'p-disabled': props.disabled\n    });\n  },\n  subgroup: 'p-treenode-children',\n  node: function node(_ref4) {\n    var isLeaf = _ref4.isLeaf;\n    return classNames('p-treenode', {\n      'p-treenode-leaf': isLeaf\n    });\n  }\n};\nvar styles = \"\\n@layer primereact {\\n    .p-tree-container {\\n        margin: 0;\\n        padding: 0;\\n        list-style-type: none;\\n        overflow: auto;\\n    }\\n\\n    .p-treenode-children {\\n        margin: 0;\\n        padding: 0;\\n        list-style-type: none;\\n    }\\n\\n    .p-treenode-selectable {\\n        cursor: pointer;\\n        user-select: none;\\n    }\\n\\n    .p-tree-toggler {\\n        cursor: pointer;\\n        user-select: none;\\n        display: inline-flex;\\n        align-items: center;\\n        justify-content: center;\\n        flex-shrink: 0;\\n        overflow: hidden;\\n        position: relative;\\n    }\\n\\n    .p-treenode-leaf > .p-treenode-content .p-tree-toggler {\\n        visibility: hidden;\\n    }\\n\\n    .p-treenode-content {\\n        display: flex;\\n        align-items: center;\\n    }\\n\\n    .p-tree-filter {\\n        width: 100%;\\n    }\\n\\n    .p-tree-filter-container {\\n        position: relative;\\n        display: block;\\n        width: 100%;\\n    }\\n\\n    .p-tree-filter-icon {\\n        position: absolute;\\n        top: 50%;\\n        margin-top: -.5rem;\\n    }\\n\\n    .p-tree-loading {\\n        position: relative;\\n        min-height: 4rem;\\n    }\\n\\n    .p-tree .p-tree-loading-overlay {\\n        position: absolute;\\n        z-index: 1;\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n    }\\n}\\n\";\nvar TreeBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'Tree',\n    __parentMetadata: null,\n    id: null,\n    value: null,\n    ariaLabel: null,\n    ariaLabelledBy: null,\n    checkboxIcon: null,\n    className: null,\n    collapseIcon: null,\n    contentClassName: null,\n    contentStyle: null,\n    contextMenuSelectionKey: null,\n    disabled: false,\n    dragdropScope: null,\n    emptyMessage: null,\n    expandIcon: null,\n    expandedKeys: null,\n    filter: false,\n    filterBy: 'label',\n    filterIcon: null,\n    filterLocale: undefined,\n    filterMode: 'lenient',\n    filterPlaceholder: null,\n    filterTemplate: null,\n    filterValue: null,\n    footer: null,\n    header: null,\n    level: 0,\n    loading: false,\n    loadingIcon: null,\n    metaKeySelection: false,\n    nodeTemplate: null,\n    onCollapse: null,\n    onContextMenu: null,\n    onContextMenuSelectionChange: null,\n    onDragDrop: null,\n    onExpand: null,\n    onFilterValueChange: null,\n    onNodeClick: null,\n    onNodeDoubleClick: null,\n    onSelect: null,\n    onSelectionChange: null,\n    onToggle: null,\n    onUnselect: null,\n    propagateSelectionDown: true,\n    propagateSelectionUp: true,\n    selectionKeys: null,\n    selectionMode: null,\n    showHeader: true,\n    style: null,\n    togglerTemplate: null,\n    children: undefined\n  },\n  css: {\n    classes: classes,\n    styles: styles\n  }\n});\n\nfunction _createForOfIteratorHelper$1(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction ownKeys$1(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread$1(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys$1(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$1(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nvar UITreeNode = /*#__PURE__*/React.memo(function (props) {\n  var contentRef = React.useRef(null);\n  var elementRef = React.useRef(null);\n  var nodeTouched = React.useRef(false);\n  var mergeProps = useMergeProps();\n  var isLeaf = props.isNodeLeaf(props.node);\n  var label = props.node.label;\n  var expanded = (props.expandedKeys ? props.expandedKeys[props.node.key] !== undefined : false) || props.node.expanded;\n  var ptm = props.ptm,\n      cx = props.cx;\n\n  var getPTOptions = function getPTOptions(key) {\n    return ptm(key, {\n      hostName: props.hostName,\n      context: {\n        selected: !isCheckboxSelectionMode() ? isSelected() : false,\n        expanded: expanded || false,\n        checked: isCheckboxSelectionMode() ? isChecked() : false,\n        isLeaf: isLeaf\n      }\n    });\n  };\n\n  var expand = function expand(event) {\n    var navigateFocusToChild = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var expandedKeys = props.expandedKeys ? _objectSpread$1({}, props.expandedKeys) : {};\n    expandedKeys[props.node.key] = true;\n    props.onToggle({\n      originalEvent: event,\n      value: expandedKeys,\n      navigateFocusToChild: navigateFocusToChild\n    });\n    invokeToggleEvents(event, true);\n  };\n\n  var collapse = function collapse(event) {\n    var expandedKeys = _objectSpread$1({}, props.expandedKeys);\n\n    delete expandedKeys[props.node.key];\n    props.onToggle({\n      originalEvent: event,\n      value: expandedKeys\n    });\n    invokeToggleEvents(event, false);\n  };\n\n  var onTogglerClick = function onTogglerClick(event) {\n    if (props.disabled) {\n      return;\n    }\n\n    expanded ? collapse(event) : expand(event, false);\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  var invokeToggleEvents = function invokeToggleEvents(event, isExpanded) {\n    if (isExpanded) {\n      if (props.onExpand) {\n        props.onExpand({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    } else {\n      if (props.onCollapse) {\n        props.onCollapse({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    }\n  };\n\n  var findNextSiblingOfAncestor = function findNextSiblingOfAncestor(nodeElement) {\n    var parentNodeElement = getParentNodeElement(nodeElement);\n    return parentNodeElement ? parentNodeElement.nextElementSibling || findNextSiblingOfAncestor(parentNodeElement) : null;\n  };\n\n  var findLastVisibleDescendant = function findLastVisibleDescendant(nodeElement) {\n    var childrenListElement = nodeElement.children[1];\n\n    if (childrenListElement) {\n      var lastChildElement = childrenListElement.children[childrenListElement.children.length - 1];\n      return findLastVisibleDescendant(lastChildElement);\n    } else {\n      return nodeElement;\n    }\n  };\n\n  var getParentNodeElement = function getParentNodeElement(nodeElement) {\n    var parentNodeElement = nodeElement.parentElement.parentElement;\n    return DomHandler.hasClass(parentNodeElement, 'p-treenode') ? parentNodeElement : null;\n  };\n\n  var focusNode = function focusNode(element) {\n    element && element.focus();\n  };\n\n  var onClick = function onClick(event) {\n    if (props.onClick) {\n      props.onClick({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n\n    var targetNode = event.target.nodeName;\n\n    if (props.disabled || targetNode === 'INPUT' || targetNode === 'BUTTON' || targetNode === 'A' || DomHandler.hasClass(event.target, 'p-clickable')) {\n      return;\n    }\n\n    if (props.selectionMode && props.node.selectable !== false) {\n      var selectionKeys;\n\n      if (isCheckboxSelectionMode()) {\n        var checked = isChecked();\n        selectionKeys = props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n\n        if (checked) {\n          if (props.propagateSelectionDown) propagateDown(props.node, false, selectionKeys);else delete selectionKeys[props.node.key];\n\n          if (props.propagateSelectionUp && props.onPropagateUp) {\n            props.onPropagateUp({\n              originalEvent: event,\n              check: false,\n              selectionKeys: selectionKeys\n            });\n          }\n\n          if (props.onUnselect) {\n            props.onUnselect({\n              originalEvent: event,\n              node: props.node\n            });\n          }\n        } else {\n          if (props.propagateSelectionDown) propagateDown(props.node, true, selectionKeys);else selectionKeys[props.node.key] = {\n            checked: true\n          };\n\n          if (props.propagateSelectionUp && props.onPropagateUp) {\n            props.onPropagateUp({\n              originalEvent: event,\n              check: true,\n              selectionKeys: selectionKeys\n            });\n          }\n\n          if (props.onSelect) {\n            props.onSelect({\n              originalEvent: event,\n              node: props.node\n            });\n          }\n        }\n      } else {\n        var selected = isSelected();\n        var metaSelection = nodeTouched.current ? false : props.metaKeySelection;\n\n        if (metaSelection) {\n          var metaKey = event.metaKey || event.ctrlKey;\n\n          if (selected && metaKey) {\n            if (isSingleSelectionMode()) {\n              selectionKeys = null;\n            } else {\n              selectionKeys = _objectSpread$1({}, props.selectionKeys);\n              delete selectionKeys[props.node.key];\n            }\n\n            if (props.onUnselect) {\n              props.onUnselect({\n                originalEvent: event,\n                node: props.node\n              });\n            }\n          } else {\n            if (isSingleSelectionMode()) {\n              selectionKeys = props.node.key;\n            } else if (isMultipleSelectionMode()) {\n              selectionKeys = !metaKey ? {} : props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n              selectionKeys[props.node.key] = true;\n            }\n\n            if (props.onSelect) {\n              props.onSelect({\n                originalEvent: event,\n                node: props.node\n              });\n            }\n          }\n        } else {\n          if (isSingleSelectionMode()) {\n            if (selected) {\n              selectionKeys = null;\n\n              if (props.onUnselect) {\n                props.onUnselect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            } else {\n              selectionKeys = props.node.key;\n\n              if (props.onSelect) {\n                props.onSelect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            }\n          } else {\n            if (selected) {\n              selectionKeys = _objectSpread$1({}, props.selectionKeys);\n              delete selectionKeys[props.node.key];\n\n              if (props.onUnselect) {\n                props.onUnselect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            } else {\n              selectionKeys = props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n              selectionKeys[props.node.key] = true;\n\n              if (props.onSelect) {\n                props.onSelect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            }\n          }\n        }\n      }\n\n      if (props.onSelectionChange) {\n        props.onSelectionChange({\n          originalEvent: event,\n          value: selectionKeys\n        });\n      }\n    }\n\n    nodeTouched.current = false;\n  };\n\n  var onDoubleClick = function onDoubleClick(event) {\n    if (props.onDoubleClick) {\n      props.onDoubleClick({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n  };\n\n  var onRightClick = function onRightClick(event) {\n    if (props.disabled) {\n      return;\n    }\n\n    DomHandler.clearSelection();\n\n    if (props.onContextMenuSelectionChange) {\n      props.onContextMenuSelectionChange({\n        originalEvent: event,\n        value: props.node.key\n      });\n    }\n\n    if (props.onContextMenu) {\n      props.onContextMenu({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n  };\n\n  var onKeyDown = function onKeyDown(event) {\n    if (!isSameNode(event)) return;\n\n    switch (event.code) {\n      case 'Tab':\n        onTabKey();\n        break;\n\n      case 'ArrowDown':\n        onArrowDown(event);\n        break;\n\n      case 'ArrowUp':\n        onArrowUp(event);\n        break;\n\n      case 'ArrowRight':\n        onArrowRight(event);\n        break;\n\n      case 'ArrowLeft':\n        onArrowLeft(event);\n        break;\n\n      case 'Enter':\n      case 'NumpadEnter':\n      case 'Space':\n        onEnterKey(event);\n        break;\n    }\n  };\n\n  var onArrowDown = function onArrowDown(event) {\n    var nodeElement = event.target.getAttribute('data-pc-section') === 'toggler' ? event.target.closest('[role=\"treeitem\"]') : event.target;\n    var listElement = nodeElement.children[1];\n\n    if (listElement) {\n      focusRowChange(nodeElement, listElement.children[0]);\n    } else {\n      if (nodeElement.nextElementSibling) {\n        focusRowChange(nodeElement, nodeElement.nextElementSibling);\n      } else {\n        var nextSiblingAncestor = findNextSiblingOfAncestor(nodeElement);\n\n        if (nextSiblingAncestor) {\n          focusRowChange(nodeElement, nextSiblingAncestor);\n        }\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var onArrowUp = function onArrowUp(event) {\n    var nodeElement = event.target;\n\n    if (nodeElement.previousElementSibling) {\n      focusRowChange(nodeElement, nodeElement.previousElementSibling, findLastVisibleDescendant(nodeElement.previousElementSibling));\n    } else {\n      var parentNodeElement = getParentNodeElement(nodeElement);\n\n      if (parentNodeElement) {\n        focusRowChange(nodeElement, parentNodeElement);\n      }\n    }\n\n    event.preventDefault();\n  };\n\n  var onArrowRight = function onArrowRight(event) {\n    if (isLeaf || expanded) return;\n    event.currentTarget.tabIndex = -1;\n    expand(event, true);\n  };\n\n  var onArrowLeft = function onArrowLeft(event) {\n    var togglerElement = DomHandler.findSingle(event.currentTarget, '[data-pc-section=\"toggler\"]');\n\n    if (props.level === 0 && !expanded) {\n      return false;\n    }\n\n    if (expanded && !isLeaf) {\n      togglerElement.click();\n      return false;\n    }\n\n    var target = findBeforeClickableNode(event.currentTarget);\n\n    if (target) {\n      focusRowChange(event.currentTarget, target);\n    }\n  };\n\n  var onEnterKey = function onEnterKey(event) {\n    setTabIndexForSelectionMode(event, nodeTouched.current);\n    onClick(event);\n    event.preventDefault();\n  };\n\n  var onTabKey = function onTabKey() {\n    setAllNodesTabIndexes();\n  };\n\n  var setAllNodesTabIndexes = function setAllNodesTabIndexes() {\n    var nodes = DomHandler.find(contentRef.current.closest('[data-pc-section=\"container\"]'), '[role=\"treeitem\"]');\n\n    var hasSelectedNode = _toConsumableArray(nodes).some(function (node) {\n      return node.getAttribute('aria-selected') === 'true' || node.getAttribute('aria-checked') === 'true';\n    });\n\n    _toConsumableArray(nodes).forEach(function (node) {\n      node.tabIndex = -1;\n    });\n\n    if (hasSelectedNode) {\n      var selectedNodes = _toConsumableArray(nodes).filter(function (node) {\n        return node.getAttribute('aria-selected') === 'true' || node.getAttribute('aria-checked') === 'true';\n      });\n\n      selectedNodes[0].tabIndex = 0;\n      return;\n    }\n\n    _toConsumableArray(nodes)[0].tabIndex = 0;\n  };\n\n  var setTabIndexForSelectionMode = function setTabIndexForSelectionMode(event, nodeTouched) {\n    if (props.selectionMode !== null) {\n      var elements = _toConsumableArray(DomHandler.find(elementRef.current.parentElement, '[role=\"treeitem\"]'));\n\n      event.currentTarget.tabIndex = nodeTouched === false ? -1 : 0;\n\n      if (elements.every(function (element) {\n        return element.tabIndex === -1;\n      })) {\n        elements[0].tabIndex = 0;\n      }\n    }\n  };\n\n  var focusRowChange = function focusRowChange(firstFocusableRow, currentFocusedRow, lastVisibleDescendant) {\n    firstFocusableRow.tabIndex = '-1';\n    currentFocusedRow.tabIndex = '0';\n    focusNode(lastVisibleDescendant || currentFocusedRow);\n  };\n\n  var findBeforeClickableNode = function findBeforeClickableNode(node) {\n    var parentListElement = node.closest('ul').closest('li');\n\n    if (parentListElement) {\n      var prevNodeButton = DomHandler.findSingle(parentListElement, 'button');\n\n      if (prevNodeButton && prevNodeButton.style.visibility !== 'hidden') {\n        return parentListElement;\n      }\n\n      return findBeforeClickableNode(node.previousElementSibling);\n    }\n\n    return null;\n  };\n\n  var propagateUp = function propagateUp(event) {\n    var check = event.check;\n    var selectionKeys = event.selectionKeys;\n    var checkedChildCount = 0;\n\n    var _iterator = _createForOfIteratorHelper$1(props.node.children),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var child = _step.value;\n        if (selectionKeys[child.key] && selectionKeys[child.key].checked) checkedChildCount++;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    var parentKey = props.node.key;\n    var children = ObjectUtils.findChildrenByKey(props.originalOptions, parentKey);\n    var isParentPartiallyChecked = children.some(function (ele) {\n      return ele.key in selectionKeys;\n    });\n    var isCompletelyChecked = children.every(function (ele) {\n      return ele.key in selectionKeys && selectionKeys[ele.key].checked;\n    });\n\n    if (isParentPartiallyChecked && !isCompletelyChecked) {\n      selectionKeys[parentKey] = {\n        checked: false,\n        partialChecked: true\n      };\n    } else if (isCompletelyChecked) {\n      selectionKeys[parentKey] = {\n        checked: true,\n        partialChecked: false\n      };\n    } else if (check) {\n      selectionKeys[parentKey] = {\n        checked: false,\n        partialChecked: false\n      };\n    } else {\n      delete selectionKeys[parentKey];\n    }\n\n    if (props.propagateSelectionUp && props.onPropagateUp) {\n      props.onPropagateUp(event);\n    }\n  };\n\n  var propagateDown = function propagateDown(node, check, selectionKeys) {\n    if (check) selectionKeys[node.key] = {\n      checked: true,\n      partialChecked: false\n    };else delete selectionKeys[node.key];\n\n    if (node.children && node.children.length) {\n      for (var i = 0; i < node.children.length; i++) {\n        propagateDown(node.children[i], check, selectionKeys);\n      }\n    }\n  };\n\n  var isSelected = function isSelected() {\n    if (props.selectionMode && props.selectionKeys) return isSingleSelectionMode() ? props.selectionKeys === props.node.key : props.selectionKeys[props.node.key] !== undefined;else return false;\n  };\n\n  var isChecked = function isChecked() {\n    return (props.selectionKeys ? props.selectionKeys[props.node.key] && props.selectionKeys[props.node.key].checked : false) || false;\n  };\n\n  var isSameNode = function isSameNode(event) {\n    return event.currentTarget && (event.currentTarget.isSameNode(event.target) || event.currentTarget.isSameNode(event.target.closest('[role=\"treeitem\"]')));\n  };\n\n  var isPartialChecked = function isPartialChecked() {\n    return props.selectionKeys ? props.selectionKeys[props.node.key] && props.selectionKeys[props.node.key].partialChecked : false;\n  };\n\n  var isSingleSelectionMode = function isSingleSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'single';\n  };\n\n  var isMultipleSelectionMode = function isMultipleSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'multiple';\n  };\n\n  var isCheckboxSelectionMode = function isCheckboxSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'checkbox';\n  };\n\n  var onTouchEnd = function onTouchEnd() {\n    nodeTouched.current = true;\n  };\n\n  var onDropPoint = function onDropPoint(event, position) {\n    event.preventDefault();\n\n    if (props.node.droppable !== false) {\n      DomHandler.removeClass(event.target, 'p-treenode-droppoint-active');\n\n      if (props.onDropPoint) {\n        var dropIndex = position === -1 ? props.index : props.index + 1;\n        props.onDropPoint({\n          originalEvent: event,\n          path: props.path,\n          index: dropIndex,\n          position: position\n        });\n      }\n    }\n  };\n\n  var onDropPointDragOver = function onDropPointDragOver(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase()) {\n      event.dataTransfer.dropEffect = 'move';\n      event.preventDefault();\n    }\n  };\n\n  var onDropPointDragEnter = function onDropPointDragEnter(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase()) {\n      DomHandler.addClass(event.target, 'p-treenode-droppoint-active');\n    }\n  };\n\n  var onDropPointDragLeave = function onDropPointDragLeave(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase()) {\n      DomHandler.removeClass(event.target, 'p-treenode-droppoint-active');\n    }\n  };\n\n  var onDrop = function onDrop(event) {\n    if (props.dragdropScope && props.node.droppable !== false) {\n      DomHandler.removeClass(contentRef.current, 'p-treenode-dragover');\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (props.onDrop) {\n        props.onDrop({\n          originalEvent: event,\n          path: props.path,\n          index: props.index\n        });\n      }\n    }\n  };\n\n  var onDragOver = function onDragOver(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase() && props.node.droppable !== false) {\n      event.dataTransfer.dropEffect = 'move';\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n\n  var onDragEnter = function onDragEnter(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase() && props.node.droppable !== false) {\n      DomHandler.addClass(contentRef.current, 'p-treenode-dragover');\n    }\n  };\n\n  var onDragLeave = function onDragLeave(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase() && props.node.droppable !== false) {\n      var rect = event.currentTarget.getBoundingClientRect();\n\n      if (event.nativeEvent.x > rect.left + rect.width || event.nativeEvent.x < rect.left || event.nativeEvent.y >= Math.floor(rect.top + rect.height) || event.nativeEvent.y < rect.top) {\n        DomHandler.removeClass(contentRef.current, 'p-treenode-dragover');\n      }\n    }\n  };\n\n  var onDragStart = function onDragStart(event) {\n    event.dataTransfer.setData('text', props.dragdropScope);\n    event.dataTransfer.setData(props.dragdropScope, props.dragdropScope);\n\n    if (props.onDragStart) {\n      props.onDragStart({\n        originalEvent: event,\n        path: props.path,\n        index: props.index\n      });\n    }\n  };\n\n  var onDragEnd = function onDragEnd(event) {\n    if (props.onDragEnd) {\n      props.onDragEnd({\n        originalEvent: event\n      });\n    }\n  };\n\n  var createLabel = function createLabel() {\n    var labelProps = mergeProps({\n      className: cx('label')\n    }, getPTOptions('label'));\n    var content = /*#__PURE__*/React.createElement(\"span\", labelProps, label);\n\n    if (props.nodeTemplate) {\n      var defaultContentOptions = {\n        onTogglerClick: onTogglerClick,\n        className: 'p-treenode-label',\n        element: content,\n        props: props,\n        expanded: expanded\n      };\n      content = ObjectUtils.getJSXElement(props.nodeTemplate, props.node, defaultContentOptions);\n    }\n\n    return content;\n  };\n\n  var createCheckbox = function createCheckbox() {\n    if (isCheckboxSelectionMode() && props.node.selectable !== false) {\n      var checked = isChecked();\n      var partialChecked = isPartialChecked();\n      var checkboxIconProps = mergeProps({\n        className: cx('checkboxIcon')\n      }, getPTOptions('checkboxIcon'));\n      var icon = checked ? props.checkboxIcon || /*#__PURE__*/React.createElement(CheckIcon, checkboxIconProps) : partialChecked ? props.checkboxIcon || /*#__PURE__*/React.createElement(MinusIcon, checkboxIconProps) : null;\n      var checkboxIcon = IconUtils.getJSXIcon(icon, _objectSpread$1({}, checkboxIconProps), props);\n      var checkboxContainerProps = mergeProps({\n        'aria-hidden': true,\n        className: cx('checkboxContainer')\n      }, getPTOptions('checkboxContainer'));\n      var checkboxProps = mergeProps({\n        className: cx('checkbox', {\n          checked: checked,\n          partialChecked: partialChecked,\n          nodeProps: props\n        }),\n        role: 'checkbox'\n      }, getPTOptions('checkbox'));\n      return /*#__PURE__*/React.createElement(\"div\", checkboxContainerProps, /*#__PURE__*/React.createElement(\"div\", checkboxProps, checkboxIcon));\n    }\n\n    return null;\n  };\n\n  var createIcon = function createIcon() {\n    var icon = props.node.icon || (expanded ? props.node.expandedIcon : props.node.collapsedIcon);\n\n    if (icon) {\n      var nodeIconProps = mergeProps({\n        className: classNames(icon, cx('nodeIcon'))\n      }, getPTOptions('nodeIcon'));\n      return IconUtils.getJSXIcon(icon, _objectSpread$1({}, nodeIconProps), {\n        props: props\n      });\n    }\n\n    return null;\n  };\n\n  var createToggler = function createToggler() {\n    var togglerIconProps = mergeProps({\n      className: cx('togglerIcon'),\n      'aria-hidden': true\n    }, getPTOptions('togglerIcon'));\n    var icon = expanded ? props.collapseIcon || /*#__PURE__*/React.createElement(ChevronDownIcon, togglerIconProps) : props.expandIcon || /*#__PURE__*/React.createElement(ChevronRightIcon, togglerIconProps);\n    var togglerIcon = IconUtils.getJSXIcon(icon, _objectSpread$1({}, togglerIconProps), {\n      props: props,\n      expanded: expanded\n    });\n    var togglerProps = mergeProps({\n      type: 'button',\n      className: cx('toggler'),\n      tabIndex: -1,\n      'aria-hidden': true,\n      onClick: onTogglerClick\n    }, getPTOptions('toggler'));\n    var content = /*#__PURE__*/React.createElement(\"button\", togglerProps, togglerIcon, /*#__PURE__*/React.createElement(Ripple, null));\n\n    if (props.togglerTemplate) {\n      var defaultContentOptions = {\n        onClick: onTogglerClick,\n        containerClassName: 'p-tree-toggler p-link',\n        iconClassName: 'p-tree-toggler-icon',\n        element: content,\n        props: props,\n        expanded: expanded\n      };\n      content = ObjectUtils.getJSXElement(props.togglerTemplate, props.node, defaultContentOptions);\n    }\n\n    return content;\n  };\n\n  var createDropPoint = function createDropPoint(position) {\n    if (props.dragdropScope) {\n      var droppointProps = mergeProps({\n        className: cx('droppoint'),\n        role: 'treeitem',\n        onDrop: function onDrop(event) {\n          return onDropPoint(event, position);\n        },\n        onDragOver: onDropPointDragOver,\n        onDragEnter: onDropPointDragEnter,\n        onDragLeave: onDropPointDragLeave\n      }, getPTOptions('droppoint'));\n      return /*#__PURE__*/React.createElement(\"li\", droppointProps);\n    }\n\n    return null;\n  };\n\n  var createContent = function createContent() {\n    var selected = isSelected();\n    var checked = isChecked();\n    var toggler = createToggler();\n    var checkbox = createCheckbox();\n    var icon = createIcon();\n    var label = createLabel();\n    var contentProps = mergeProps({\n      ref: contentRef,\n      className: classNames(props.node.className, cx('content', {\n        checked: checked,\n        selected: selected,\n        nodeProps: props,\n        isCheckboxSelectionMode: isCheckboxSelectionMode\n      })),\n      style: props.node.style,\n      onClick: onClick,\n      onDoubleClick: onDoubleClick,\n      onContextMenu: onRightClick,\n      onTouchEnd: onTouchEnd,\n      draggable: props.dragdropScope && props.node.draggable !== false && !props.disabled,\n      onDrop: onDrop,\n      onDragOver: onDragOver,\n      onDragEnter: onDragEnter,\n      onDragLeave: onDragLeave,\n      onDragStart: onDragStart,\n      onDragEnd: onDragEnd,\n      'data-p-highlight': isCheckboxSelectionMode() ? checked : selected\n    }, getPTOptions('content'));\n    return /*#__PURE__*/React.createElement(\"div\", contentProps, toggler, checkbox, icon, label);\n  };\n\n  var createChildren = function createChildren() {\n    var subgroupProps = mergeProps({\n      className: cx('subgroup'),\n      role: 'group'\n    }, getPTOptions('subgroup'));\n\n    if (ObjectUtils.isNotEmpty(props.node.children) && expanded) {\n      return /*#__PURE__*/React.createElement(\"ul\", subgroupProps, props.node.children.map(function (childNode, index) {\n        return /*#__PURE__*/React.createElement(UITreeNode, {\n          key: childNode.key || childNode.label,\n          node: childNode,\n          checkboxIcon: props.checkboxIcon,\n          collapseIcon: props.collapseIcon,\n          contextMenuSelectionKey: props.contextMenuSelectionKey,\n          cx: cx,\n          disabled: props.disabled,\n          dragdropScope: props.dragdropScope,\n          expandIcon: props.expandIcon,\n          expandedKeys: props.expandedKeys,\n          index: index,\n          isNodeLeaf: props.isNodeLeaf,\n          last: index === props.node.children.length - 1,\n          metaKeySelection: props.metaKeySelection,\n          nodeTemplate: props.nodeTemplate,\n          onClick: props.onClick,\n          onCollapse: props.onCollapse,\n          onContextMenu: props.onContextMenu,\n          onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n          onDoubleClick: props.onDoubleClick,\n          onDragEnd: props.onDragEnd,\n          onDragStart: props.onDragStart,\n          onDrop: props.onDrop,\n          onDropPoint: props.onDropPoint,\n          onExpand: props.onExpand,\n          onPropagateUp: propagateUp,\n          onSelect: props.onSelect,\n          onSelectionChange: props.onSelectionChange,\n          onToggle: props.onToggle,\n          onUnselect: props.onUnselect,\n          originalOptions: props.originalOptions,\n          parent: props.node,\n          path: props.path + '-' + index,\n          propagateSelectionDown: props.propagateSelectionDown,\n          propagateSelectionUp: props.propagateSelectionUp,\n          ptm: ptm,\n          selectionKeys: props.selectionKeys,\n          selectionMode: props.selectionMode,\n          togglerTemplate: props.togglerTemplate\n        });\n      }));\n    }\n\n    return null;\n  };\n\n  var createNode = function createNode() {\n    var tabIndex = props.disabled || props.index !== 0 ? -1 : 0;\n    var selected = isSelected();\n    var checked = isChecked();\n    var content = createContent();\n    var children = createChildren();\n    var nodeProps = mergeProps(_defineProperty(_defineProperty({\n      ref: elementRef,\n      className: classNames(props.node.className, cx('node', {\n        isLeaf: isLeaf\n      })),\n      style: props.node.style,\n      tabIndex: tabIndex,\n      role: 'treeitem',\n      'aria-label': label,\n      'aria-level': props.level,\n      'aria-expanded': expanded,\n      'aria-checked': checked,\n      'aria-setsize': props.node.children ? props.node.children.length : 0,\n      'aria-posinset': props.index + 1,\n      onKeyDown: onKeyDown\n    }, \"aria-expanded\", expanded), 'aria-selected', checked || selected), getPTOptions('node'));\n    return /*#__PURE__*/React.createElement(\"li\", nodeProps, content, children);\n  };\n\n  var node = createNode();\n\n  if (props.dragdropScope && !props.disabled) {\n    var beforeDropPoint = createDropPoint(-1);\n    var afterDropPoint = props.last ? createDropPoint(1) : null;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, beforeDropPoint, node, afterDropPoint);\n  }\n\n  return node;\n});\nUITreeNode.displayName = 'UITreeNode';\n\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n\n  return t;\n}\n\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n\n  return e;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nvar Tree = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var mergeProps = useMergeProps();\n  var context = React.useContext(PrimeReactContext);\n  var props = TreeBase.getProps(inProps, context);\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      filterValueState = _React$useState2[0],\n      setFilterValueState = _React$useState2[1];\n\n  var _React$useState3 = React.useState(props.expandedKeys),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      expandedKeysState = _React$useState4[0],\n      setExpandedKeysState = _React$useState4[1];\n\n  var elementRef = React.useRef(null);\n  var filteredNodes = React.useRef([]);\n  var dragState = React.useRef(null);\n  var filterChanged = React.useRef(false);\n  var filteredValue = props.onFilterValueChange ? props.filterValue : filterValueState;\n  var expandedKeys = props.onToggle ? props.expandedKeys : expandedKeysState;\n  var childFocusEvent = React.useRef(null);\n\n  var _TreeBase$setMetaData = TreeBase.setMetaData({\n    props: props,\n    state: {\n      filterValue: filteredValue,\n      expandedKeys: expandedKeys\n    }\n  }),\n      ptm = _TreeBase$setMetaData.ptm,\n      cx = _TreeBase$setMetaData.cx,\n      isUnstyled = _TreeBase$setMetaData.isUnstyled;\n\n  useHandleStyle(TreeBase.css.styles, isUnstyled, {\n    name: 'tree'\n  });\n  var filterOptions = {\n    filter: function filter(e) {\n      return onFilterInputChange(e);\n    },\n    reset: function reset() {\n      return resetFilter();\n    }\n  };\n\n  var getRootNode = function getRootNode() {\n    return props.filter && filteredNodes.current ? filteredNodes.current : props.value;\n  };\n\n  var onToggle = function onToggle(event) {\n    var originalEvent = event.originalEvent,\n        value = event.value,\n        navigateFocusToChild = event.navigateFocusToChild;\n\n    if (props.onToggle) {\n      props.onToggle({\n        originalEvent: originalEvent,\n        value: value\n      });\n    } else {\n      if (navigateFocusToChild) {\n        childFocusEvent.current = originalEvent;\n      }\n\n      setExpandedKeysState(value);\n    }\n  };\n\n  useUpdateEffect(function () {\n    if (childFocusEvent.current) {\n      var event = childFocusEvent.current;\n      var nodeElement = event.target.getAttribute('data-pc-section') === 'toggler' ? event.target.closest('[role=\"treeitem\"]') : event.target;\n      var listElement = nodeElement.children[1];\n\n      if (listElement) {\n        if (nodeElement) {\n          nodeElement.tabIndex = '-1';\n        }\n\n        var childElement = listElement.children[0];\n\n        if (childElement) {\n          childElement.tabIndex = '0';\n          childElement.focus();\n        }\n      }\n\n      childFocusEvent.current = null;\n    }\n  }, [expandedKeys]);\n\n  var onDragStart = function onDragStart(event) {\n    dragState.current = {\n      path: event.path,\n      index: event.index\n    };\n  };\n\n  var onDragEnd = function onDragEnd() {\n    dragState.current = null;\n  };\n  /**\n   * Deep copy a value. If the value has a data property, it will be shallow copied.\n   * Values that are not plain objects or arrays are returned as-is.\n   */\n\n\n  var cloneValue = function cloneValue(value) {\n    if (Array.isArray(value)) {\n      return value.map(cloneValue);\n    } else if (!!value && Object.getPrototypeOf(value) === Object.prototype) {\n      var result = {}; // Leave data property alone and clone children\n\n      for (var key in value) {\n        if (key !== 'data') {\n          result[key] = cloneValue(value[key]);\n        } else {\n          result[key] = value[key];\n        }\n      }\n\n      return result;\n    } else return value;\n  };\n\n  var onDrop = function onDrop(event) {\n    var _dragState$current;\n\n    if (validateDropNode((_dragState$current = dragState.current) === null || _dragState$current === void 0 ? void 0 : _dragState$current.path, event.path)) {\n      var value = cloneValue(props.value);\n      var dragPaths = dragState.current.path.split('-');\n      dragPaths.pop();\n      var dragNodeParent = findNode(value, dragPaths);\n      var dragNode = dragNodeParent ? dragNodeParent.children[dragState.current.index] : value[dragState.current.index];\n      var dropNode = findNode(value, event.path.split('-'));\n      if (dropNode.children) dropNode.children.push(dragNode);else dropNode.children = [dragNode];\n      if (dragNodeParent) dragNodeParent.children.splice(dragState.current.index, 1);else value.splice(dragState.current.index, 1);\n\n      if (props.onDragDrop) {\n        props.onDragDrop({\n          originalEvent: event.originalEvent,\n          value: value,\n          dragNode: dragNode,\n          dropNode: dropNode,\n          dropIndex: event.index\n        });\n      }\n    }\n  };\n\n  var onDropPoint = function onDropPoint(event) {\n    if (validateDropPoint(event)) {\n      var value = cloneValue(props.value);\n      var dragPaths = dragState.current.path.split('-');\n      dragPaths.pop();\n      var dropPaths = event.path.split('-');\n      dropPaths.pop();\n      var dragNodeParent = findNode(value, dragPaths);\n      var dropNodeParent = findNode(value, dropPaths);\n      var dragNode = dragNodeParent ? dragNodeParent.children[dragState.current.index] : value[dragState.current.index];\n      var siblings = areSiblings(dragState.current.path, event.path);\n      if (dragNodeParent) dragNodeParent.children.splice(dragState.current.index, 1);else value.splice(dragState.current.index, 1);\n\n      if (event.position < 0) {\n        var dropIndex = siblings ? dragState.current.index > event.index ? event.index : event.index - 1 : event.index;\n        if (dropNodeParent) dropNodeParent.children.splice(dropIndex, 0, dragNode);else value.splice(dropIndex, 0, dragNode);\n      } else {\n        if (dropNodeParent) dropNodeParent.children.push(dragNode);else value.push(dragNode);\n      }\n\n      if (props.onDragDrop) {\n        props.onDragDrop({\n          originalEvent: event.originalEvent,\n          value: value,\n          dragNode: dragNode,\n          dropNode: dropNodeParent,\n          dropIndex: event.index\n        });\n      }\n    }\n  };\n\n  var validateDrop = function validateDrop(dragPath, dropPath) {\n    if (!dragPath) {\n      return false;\n    } else {\n      //same node\n      if (dragPath === dropPath) {\n        return false;\n      } //parent dropped on an descendant\n\n\n      if (dropPath.indexOf(dragPath) === 0) {\n        return false;\n      }\n\n      return true;\n    }\n  };\n\n  var validateDropNode = function validateDropNode(dragPath, dropPath) {\n    var _validateDrop = validateDrop(dragPath, dropPath);\n\n    if (_validateDrop) {\n      //child dropped on parent\n      if (dragPath.indexOf('-') > 0 && dragPath.substring(0, dragPath.lastIndexOf('-')) === dropPath) {\n        return false;\n      }\n\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var validateDropPoint = function validateDropPoint(event) {\n    var _dragState$current2;\n\n    var _validateDrop = validateDrop((_dragState$current2 = dragState.current) === null || _dragState$current2 === void 0 ? void 0 : _dragState$current2.path, event.path);\n\n    if (_validateDrop) {\n      //child dropped to next sibling's drop point\n      if (event.position === -1 && areSiblings(dragState.current.path, event.path) && dragState.current.index + 1 === event.index) {\n        return false;\n      }\n\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  var areSiblings = function areSiblings(path1, path2) {\n    if (path1.length === 1 && path2.length === 1) return true;else return path1.substring(0, path1.lastIndexOf('-')) === path2.substring(0, path2.lastIndexOf('-'));\n  };\n\n  var findNode = function findNode(value, path) {\n    if (path.length === 0) {\n      return null;\n    } else {\n      var index = parseInt(path[0], 10);\n      var nextSearchRoot = value.children ? value.children[index] : value[index];\n\n      if (path.length === 1) {\n        return nextSearchRoot;\n      } else {\n        path.shift();\n        return findNode(nextSearchRoot, path);\n      }\n    }\n  };\n\n  var isNodeLeaf = function isNodeLeaf(node) {\n    return node.leaf === false ? false : !(node.children && node.children.length);\n  };\n\n  var onFilterInputKeyDown = function onFilterInputKeyDown(event) {\n    //enter\n    if (event.which === 13) {\n      event.preventDefault();\n    }\n  };\n\n  var onFilterInputChange = function onFilterInputChange(event) {\n    filterChanged.current = true;\n    var value = event.target.value;\n\n    if (props.onFilterValueChange) {\n      props.onFilterValueChange({\n        originalEvent: event,\n        value: value\n      });\n    } else {\n      setFilterValueState(value);\n    }\n  };\n\n  var filter = function filter(value) {\n    setFilterValueState(ObjectUtils.isNotEmpty(value) ? value : '');\n\n    _filter();\n  };\n\n  var _filter = function _filter() {\n    if (!filterChanged.current) {\n      return;\n    }\n\n    if (ObjectUtils.isEmpty(filteredValue)) {\n      filteredNodes.current = props.value;\n    } else {\n      filteredNodes.current = [];\n      var searchFields = props.filterBy.split(',');\n      var filterText = filteredValue.toLocaleLowerCase(props.filterLocale);\n      var isStrictMode = props.filterMode === 'strict';\n\n      var _iterator = _createForOfIteratorHelper(props.value),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var node = _step.value;\n\n          var copyNode = _objectSpread({}, node);\n\n          var paramsWithoutNode = {\n            searchFields: searchFields,\n            filterText: filterText,\n            isStrictMode: isStrictMode\n          };\n\n          if (isStrictMode && (findFilteredNodes(copyNode, paramsWithoutNode) || isFilterMatched(copyNode, paramsWithoutNode)) || !isStrictMode && (isFilterMatched(copyNode, paramsWithoutNode) || findFilteredNodes(copyNode, paramsWithoutNode))) {\n            filteredNodes.current.push(copyNode);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    filterChanged.current = false;\n  };\n\n  var findFilteredNodes = function findFilteredNodes(node, paramsWithoutNode) {\n    if (node) {\n      var matched = false;\n\n      if (node.children) {\n        var childNodes = _toConsumableArray(node.children);\n\n        node.children = [];\n\n        var _iterator2 = _createForOfIteratorHelper(childNodes),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var childNode = _step2.value;\n\n            var copyChildNode = _objectSpread({}, childNode);\n\n            if (isFilterMatched(copyChildNode, paramsWithoutNode)) {\n              matched = true;\n              node.children.push(copyChildNode);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n\n      if (matched) {\n        node.expanded = true;\n        return true;\n      }\n    }\n  };\n\n  var isFilterMatched = function isFilterMatched(node, _ref) {\n    var searchFields = _ref.searchFields,\n        filterText = _ref.filterText,\n        isStrictMode = _ref.isStrictMode;\n    var matched = false;\n\n    var _iterator3 = _createForOfIteratorHelper(searchFields),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var field = _step3.value;\n        var fieldValue = String(ObjectUtils.resolveFieldData(node, field)).toLocaleLowerCase(props.filterLocale);\n\n        if (fieldValue.indexOf(filterText) > -1) {\n          matched = true;\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    if (!matched || isStrictMode && !isNodeLeaf(node)) {\n      matched = findFilteredNodes(node, {\n        searchFields: searchFields,\n        filterText: filterText,\n        isStrictMode: isStrictMode\n      }) || matched;\n    }\n\n    return matched;\n  };\n\n  var resetFilter = function resetFilter() {\n    setFilterValueState('');\n  };\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      filter: filter,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n\n  var createRootChild = function createRootChild(node, index, last) {\n    return /*#__PURE__*/React.createElement(UITreeNode, {\n      hostName: \"Tree\",\n      key: node.key || node.label,\n      node: node,\n      level: props.level + 1,\n      originalOptions: props.value,\n      index: index,\n      last: last,\n      path: String(index),\n      checkboxIcon: props.checkboxIcon,\n      collapseIcon: props.collapseIcon,\n      contextMenuSelectionKey: props.contextMenuSelectionKey,\n      cx: cx,\n      disabled: props.disabled,\n      dragdropScope: props.dragdropScope,\n      expandIcon: props.expandIcon,\n      expandedKeys: expandedKeys,\n      isNodeLeaf: isNodeLeaf,\n      metaKeySelection: props.metaKeySelection,\n      nodeTemplate: props.nodeTemplate,\n      onClick: props.onNodeClick,\n      onCollapse: props.onCollapse,\n      onContextMenu: props.onContextMenu,\n      onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n      onDoubleClick: props.onNodeDoubleClick,\n      onDragEnd: onDragEnd,\n      onDragStart: onDragStart,\n      onDrop: onDrop,\n      onDropPoint: onDropPoint,\n      onExpand: props.onExpand,\n      onSelect: props.onSelect,\n      onSelectionChange: props.onSelectionChange,\n      onToggle: onToggle,\n      onUnselect: props.onUnselect,\n      propagateSelectionDown: props.propagateSelectionDown,\n      propagateSelectionUp: props.propagateSelectionUp,\n      ptm: ptm,\n      selectionKeys: props.selectionKeys,\n      selectionMode: props.selectionMode,\n      togglerTemplate: props.togglerTemplate\n    });\n  };\n\n  var createEmptyMessageNode = function createEmptyMessageNode() {\n    var emptyMessageProps = mergeProps({\n      className: classNames(props.contentClassName, cx('emptyMessage')),\n      role: 'treeitem'\n    }, ptm('emptyMessage'));\n    var message = ObjectUtils.getJSXElement(props.emptyMessage, props) || localeOption('emptyMessage');\n    return /*#__PURE__*/React.createElement(\"li\", emptyMessageProps, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"p-treenode-content\"\n    }, message));\n  };\n\n  var createRootChildrenContainer = function createRootChildrenContainer(children) {\n    var containerProps = mergeProps(_objectSpread({\n      className: classNames(props.contentClassName, cx('container')),\n      role: 'tree',\n      'aria-label': props.ariaLabel,\n      'aria-labelledby': props.ariaLabelledBy,\n      style: props.contentStyle\n    }, ariaProps), ptm('container'));\n    return /*#__PURE__*/React.createElement(\"ul\", containerProps, children);\n  };\n\n  var createRootChildren = function createRootChildren(value) {\n    return value.map(function (node, index) {\n      return createRootChild(node, index, index === value.length - 1);\n    });\n  };\n\n  var createModel = function createModel() {\n    if (props.value) {\n      if (props.filter) {\n        filterChanged.current = true;\n\n        _filter();\n      }\n\n      var value = getRootNode();\n\n      if (value.length > 0) {\n        var rootNodes = createRootChildren(value);\n        return createRootChildrenContainer(rootNodes);\n      } else {\n        var emptyMessageNode = createEmptyMessageNode();\n        return createRootChildrenContainer(emptyMessageNode);\n      }\n    }\n\n    return null;\n  };\n\n  var createLoader = function createLoader() {\n    if (props.loading) {\n      var loadingIconProps = mergeProps({\n        className: cx('loadingIcon')\n      }, ptm('loadingIcon'));\n      var icon = props.loadingIcon || /*#__PURE__*/React.createElement(SpinnerIcon, _extends({}, loadingIconProps, {\n        spin: true\n      }));\n      var loadingIcon = IconUtils.getJSXIcon(icon, _objectSpread({}, loadingIconProps), {\n        props: props\n      });\n      var loadingOverlayProps = mergeProps({\n        className: cx('loadingOverlay')\n      }, ptm('loadingOverlay'));\n      return /*#__PURE__*/React.createElement(\"div\", loadingOverlayProps, loadingIcon);\n    }\n\n    return null;\n  };\n\n  var createFilter = function createFilter() {\n    if (props.filter) {\n      var value = ObjectUtils.isNotEmpty(filteredValue) ? filteredValue : '';\n      var searchIconProps = mergeProps({\n        className: cx('searchIcon')\n      }, ptm('searchIcon'));\n      var icon = props.filterIcon || /*#__PURE__*/React.createElement(SearchIcon, searchIconProps);\n      var filterIcon = IconUtils.getJSXIcon(icon, _objectSpread({}, searchIconProps), {\n        props: props\n      });\n      var filterContainerProps = mergeProps({\n        className: cx('filterContainer')\n      }, ptm('filterContainer'));\n      var inputProps = mergeProps({\n        type: 'text',\n        value: value,\n        autoComplete: 'off',\n        className: cx('input'),\n        placeholder: props.filterPlaceholder,\n        'aria-label': props.filterPlaceholder,\n        onKeyDown: onFilterInputKeyDown,\n        onChange: onFilterInputChange,\n        disabled: props.disabled\n      }, ptm('input'));\n\n      var _content = /*#__PURE__*/React.createElement(\"div\", filterContainerProps, /*#__PURE__*/React.createElement(\"input\", inputProps), filterIcon);\n\n      if (props.filterTemplate) {\n        var defaultContentOptions = {\n          className: 'p-tree-filter-container',\n          element: _content,\n          filterOptions: filterOptions,\n          filterInputKeyDown: onFilterInputKeyDown,\n          filterInputChange: onFilterInputChange,\n          filterIconClassName: 'p-dropdown-filter-icon',\n          props: props\n        };\n        _content = ObjectUtils.getJSXElement(props.filterTemplate, defaultContentOptions);\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, _content);\n    }\n\n    return null;\n  };\n\n  var createHeader = function createHeader() {\n    if (props.showHeader) {\n      var filterElement = createFilter();\n      var _content2 = filterElement;\n\n      if (props.header) {\n        var defaultContentOptions = {\n          filterContainerClassName: 'p-tree-filter-container',\n          filterIconClassName: 'p-tree-filter-icon',\n          filterInput: {\n            className: 'p-tree-filter p-inputtext p-component',\n            onKeyDown: onFilterInputKeyDown,\n            onChange: onFilterInputChange\n          },\n          filterElement: filterElement,\n          element: _content2,\n          props: props\n        };\n        _content2 = ObjectUtils.getJSXElement(props.header, defaultContentOptions);\n      }\n\n      var headerProps = mergeProps({\n        className: cx('header')\n      }, ptm('header'));\n      return /*#__PURE__*/React.createElement(\"div\", headerProps, _content2);\n    }\n\n    return null;\n  };\n\n  var createFooter = function createFooter() {\n    var content = ObjectUtils.getJSXElement(props.footer, props);\n    var footerProps = mergeProps({\n      className: cx('footer')\n    }, ptm('footer'));\n    return /*#__PURE__*/React.createElement(\"div\", footerProps, content);\n  };\n\n  var otherProps = TreeBase.getOtherProps(props);\n  var ariaProps = ObjectUtils.reduceKeys(otherProps, DomHandler.ARIA_PROPS);\n  var loader = createLoader();\n  var content = createModel();\n  var header = createHeader();\n  var footer = createFooter();\n  var rootProps = mergeProps({\n    ref: elementRef,\n    className: classNames(props.className, cx('root')),\n    style: props.style,\n    id: props.id\n  }, TreeBase.getOtherProps(props), ptm('root'));\n  return /*#__PURE__*/React.createElement(\"div\", rootProps, loader, header, content, footer);\n}));\nTree.displayName = 'Tree';\nexport { Tree };","map":{"version":3,"names":["React","PrimeReactContext","localeOption","ComponentBase","useHandleStyle","useMergeProps","SearchIcon","SpinnerIcon","classNames","DomHandler","ObjectUtils","IconUtils","CheckIcon","ChevronDownIcon","ChevronRightIcon","MinusIcon","Ripple","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_arrayLikeToArray$2","arr","len","arr2","Array","_arrayWithoutHoles","isArray","_iterableToArray","iter","Symbol","iterator","from","_unsupportedIterableToArray$2","o","minLen","n","toString","slice","constructor","name","test","_nonIterableSpread","TypeError","_toConsumableArray","_typeof","_toPrimitive","input","hint","prim","toPrimitive","undefined","res","String","Number","_toPropertyKey","arg","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","_arrayWithHoles","_iterableToArrayLimit","r","l","t","e","u","a","f","next","done","push","_nonIterableRest","_slicedToArray","useUpdateEffect","fn","deps","mounted","useRef","useEffect","current","classes","container","loadingIcon","loadingOverlay","searchIcon","emptyMessage","filterContainer","header","footer","root","_ref","props","selectionMode","loading","disabled","label","checkboxIcon","checkboxContainer","checkbox","_ref2","nodeProps","checked","partialChecked","nodeIcon","togglerIcon","toggler","droppoint","content","_ref3","selected","isCheckboxSelectionMode","node","selectable","contextMenuSelectionKey","subgroup","_ref4","isLeaf","styles","TreeBase","extend","defaultProps","__TYPE","__parentMetadata","id","ariaLabel","ariaLabelledBy","className","collapseIcon","contentClassName","contentStyle","dragdropScope","expandIcon","expandedKeys","filter","filterBy","filterIcon","filterLocale","filterMode","filterPlaceholder","filterTemplate","filterValue","level","metaKeySelection","nodeTemplate","onCollapse","onContextMenu","onContextMenuSelectionChange","onDragDrop","onExpand","onFilterValueChange","onNodeClick","onNodeDoubleClick","onSelect","onSelectionChange","onToggle","onUnselect","propagateSelectionDown","propagateSelectionUp","selectionKeys","showHeader","style","togglerTemplate","children","css","_createForOfIteratorHelper$1","allowArrayLike","it","_unsupportedIterableToArray$1","F","s","_e","normalCompletion","didErr","err","step","_e2","_arrayLikeToArray$1","ownKeys$1","keys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread$1","forEach","getOwnPropertyDescriptors","defineProperties","UITreeNode","memo","contentRef","elementRef","nodeTouched","mergeProps","isNodeLeaf","expanded","ptm","cx","getPTOptions","hostName","context","isSelected","isChecked","expand","event","navigateFocusToChild","originalEvent","invokeToggleEvents","collapse","onTogglerClick","preventDefault","stopPropagation","isExpanded","findNextSiblingOfAncestor","nodeElement","parentNodeElement","getParentNodeElement","nextElementSibling","findLastVisibleDescendant","childrenListElement","lastChildElement","parentElement","hasClass","focusNode","element","focus","onClick","targetNode","nodeName","propagateDown","onPropagateUp","check","metaSelection","metaKey","ctrlKey","isSingleSelectionMode","isMultipleSelectionMode","onDoubleClick","onRightClick","clearSelection","onKeyDown","isSameNode","code","onTabKey","onArrowDown","onArrowUp","onArrowRight","onArrowLeft","onEnterKey","getAttribute","closest","listElement","focusRowChange","nextSiblingAncestor","previousElementSibling","currentTarget","tabIndex","togglerElement","findSingle","click","findBeforeClickableNode","setTabIndexForSelectionMode","setAllNodesTabIndexes","nodes","find","hasSelectedNode","some","selectedNodes","elements","every","firstFocusableRow","currentFocusedRow","lastVisibleDescendant","parentListElement","prevNodeButton","visibility","propagateUp","checkedChildCount","_iterator","_step","child","parentKey","findChildrenByKey","originalOptions","isParentPartiallyChecked","ele","isCompletelyChecked","isPartialChecked","onTouchEnd","onDropPoint","position","droppable","removeClass","dropIndex","index","path","onDropPointDragOver","dataTransfer","types","toLocaleLowerCase","dropEffect","onDropPointDragEnter","addClass","onDropPointDragLeave","onDrop","onDragOver","onDragEnter","onDragLeave","rect","getBoundingClientRect","nativeEvent","x","left","width","y","Math","floor","top","height","onDragStart","setData","onDragEnd","createLabel","labelProps","createElement","defaultContentOptions","getJSXElement","createCheckbox","checkboxIconProps","icon","getJSXIcon","checkboxContainerProps","checkboxProps","role","createIcon","expandedIcon","collapsedIcon","nodeIconProps","createToggler","togglerIconProps","togglerProps","type","containerClassName","iconClassName","createDropPoint","droppointProps","createContent","contentProps","ref","draggable","createChildren","subgroupProps","isNotEmpty","map","childNode","last","parent","createNode","beforeDropPoint","afterDropPoint","Fragment","displayName","ownKeys","_objectSpread","_createForOfIteratorHelper","_unsupportedIterableToArray","_arrayLikeToArray","Tree","forwardRef","inProps","useContext","getProps","_React$useState","useState","_React$useState2","filterValueState","setFilterValueState","_React$useState3","_React$useState4","expandedKeysState","setExpandedKeysState","filteredNodes","dragState","filterChanged","filteredValue","childFocusEvent","_TreeBase$setMetaData","setMetaData","state","isUnstyled","filterOptions","onFilterInputChange","reset","resetFilter","getRootNode","childElement","cloneValue","getPrototypeOf","result","_dragState$current","validateDropNode","dragPaths","split","pop","dragNodeParent","findNode","dragNode","dropNode","splice","validateDropPoint","dropPaths","dropNodeParent","siblings","areSiblings","validateDrop","dragPath","dropPath","indexOf","_validateDrop","substring","lastIndexOf","_dragState$current2","path1","path2","parseInt","nextSearchRoot","shift","leaf","onFilterInputKeyDown","which","_filter","isEmpty","searchFields","filterText","isStrictMode","copyNode","paramsWithoutNode","findFilteredNodes","isFilterMatched","matched","childNodes","_iterator2","_step2","copyChildNode","_iterator3","_step3","field","fieldValue","resolveFieldData","useImperativeHandle","getElement","createRootChild","createEmptyMessageNode","emptyMessageProps","message","createRootChildrenContainer","containerProps","ariaProps","createRootChildren","createModel","rootNodes","emptyMessageNode","createLoader","loadingIconProps","spin","loadingOverlayProps","createFilter","searchIconProps","filterContainerProps","inputProps","autoComplete","placeholder","onChange","_content","filterInputKeyDown","filterInputChange","filterIconClassName","createHeader","filterElement","_content2","filterContainerClassName","filterInput","headerProps","createFooter","footerProps","otherProps","getOtherProps","reduceKeys","ARIA_PROPS","loader","rootProps"],"sources":["C:/Users/hp/IdeaProjects/react-signin-signup-form/node_modules/primereact/tree/tree.esm.js"],"sourcesContent":["'use client';\nimport * as React from 'react';\nimport { PrimeReactContext, localeOption } from 'primereact/api';\nimport { ComponentBase, useHandleStyle } from 'primereact/componentbase';\nimport { useMergeProps } from 'primereact/hooks';\nimport { SearchIcon } from 'primereact/icons/search';\nimport { SpinnerIcon } from 'primereact/icons/spinner';\nimport { classNames, DomHandler, ObjectUtils, IconUtils } from 'primereact/utils';\nimport { CheckIcon } from 'primereact/icons/check';\nimport { ChevronDownIcon } from 'primereact/icons/chevrondown';\nimport { ChevronRightIcon } from 'primereact/icons/chevronright';\nimport { MinusIcon } from 'primereact/icons/minus';\nimport { Ripple } from 'primereact/ripple';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _arrayLikeToArray$2(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$2(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray$2(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$2(arr) || _nonIterableSpread();\n}\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$2(arr, i) || _nonIterableRest();\n}\n\n/* eslint-disable */\nvar useUpdateEffect = function useUpdateEffect(fn, deps) {\n  var mounted = React.useRef(false);\n  return React.useEffect(function () {\n    if (!mounted.current) {\n      mounted.current = true;\n      return;\n    }\n    return fn && fn();\n  }, deps);\n};\n/* eslint-enable */\n\nvar classes = {\n  container: 'p-tree-container',\n  loadingIcon: 'p-tree-loading-icon',\n  loadingOverlay: 'p-tree-loading-overlay p-component-overlay',\n  searchIcon: 'p-tree-filter-icon',\n  emptyMessage: 'p-treenode p-tree-empty-message',\n  filterContainer: 'p-tree-filter-container',\n  input: 'p-tree-filter p-inputtext p-component',\n  header: 'p-tree-header',\n  footer: 'p-tree-footer',\n  root: function root(_ref) {\n    var props = _ref.props;\n    return classNames('p-tree p-component', {\n      'p-tree-selectable': props.selectionMode,\n      'p-tree-loading': props.loading,\n      'p-disabled': props.disabled\n    });\n  },\n  label: 'p-treenode-label',\n  checkboxIcon: 'p-checkbox-icon p-c',\n  checkboxContainer: 'p-checkbox p-component',\n  checkbox: function checkbox(_ref2) {\n    var props = _ref2.nodeProps,\n      checked = _ref2.checked,\n      partialChecked = _ref2.partialChecked;\n    return classNames('p-checkbox-box', {\n      'p-highlight': checked,\n      'p-indeterminate': partialChecked,\n      'p-disabled': props.disabled\n    });\n  },\n  nodeIcon: 'p-treenode-icon',\n  togglerIcon: 'p-tree-toggler-icon',\n  toggler: 'p-tree-toggler p-link',\n  droppoint: 'p-treenode-droppoint',\n  content: function content(_ref3) {\n    var props = _ref3.nodeProps,\n      checked = _ref3.checked,\n      selected = _ref3.selected,\n      isCheckboxSelectionMode = _ref3.isCheckboxSelectionMode;\n    return classNames('p-treenode-content', {\n      'p-treenode-selectable': props.selectionMode && props.node.selectable !== false,\n      'p-highlight': isCheckboxSelectionMode() ? checked : selected,\n      'p-highlight-contextmenu': props.contextMenuSelectionKey && props.contextMenuSelectionKey === props.node.key,\n      'p-disabled': props.disabled\n    });\n  },\n  subgroup: 'p-treenode-children',\n  node: function node(_ref4) {\n    var isLeaf = _ref4.isLeaf;\n    return classNames('p-treenode', {\n      'p-treenode-leaf': isLeaf\n    });\n  }\n};\nvar styles = \"\\n@layer primereact {\\n    .p-tree-container {\\n        margin: 0;\\n        padding: 0;\\n        list-style-type: none;\\n        overflow: auto;\\n    }\\n\\n    .p-treenode-children {\\n        margin: 0;\\n        padding: 0;\\n        list-style-type: none;\\n    }\\n\\n    .p-treenode-selectable {\\n        cursor: pointer;\\n        user-select: none;\\n    }\\n\\n    .p-tree-toggler {\\n        cursor: pointer;\\n        user-select: none;\\n        display: inline-flex;\\n        align-items: center;\\n        justify-content: center;\\n        flex-shrink: 0;\\n        overflow: hidden;\\n        position: relative;\\n    }\\n\\n    .p-treenode-leaf > .p-treenode-content .p-tree-toggler {\\n        visibility: hidden;\\n    }\\n\\n    .p-treenode-content {\\n        display: flex;\\n        align-items: center;\\n    }\\n\\n    .p-tree-filter {\\n        width: 100%;\\n    }\\n\\n    .p-tree-filter-container {\\n        position: relative;\\n        display: block;\\n        width: 100%;\\n    }\\n\\n    .p-tree-filter-icon {\\n        position: absolute;\\n        top: 50%;\\n        margin-top: -.5rem;\\n    }\\n\\n    .p-tree-loading {\\n        position: relative;\\n        min-height: 4rem;\\n    }\\n\\n    .p-tree .p-tree-loading-overlay {\\n        position: absolute;\\n        z-index: 1;\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n    }\\n}\\n\";\nvar TreeBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'Tree',\n    __parentMetadata: null,\n    id: null,\n    value: null,\n    ariaLabel: null,\n    ariaLabelledBy: null,\n    checkboxIcon: null,\n    className: null,\n    collapseIcon: null,\n    contentClassName: null,\n    contentStyle: null,\n    contextMenuSelectionKey: null,\n    disabled: false,\n    dragdropScope: null,\n    emptyMessage: null,\n    expandIcon: null,\n    expandedKeys: null,\n    filter: false,\n    filterBy: 'label',\n    filterIcon: null,\n    filterLocale: undefined,\n    filterMode: 'lenient',\n    filterPlaceholder: null,\n    filterTemplate: null,\n    filterValue: null,\n    footer: null,\n    header: null,\n    level: 0,\n    loading: false,\n    loadingIcon: null,\n    metaKeySelection: false,\n    nodeTemplate: null,\n    onCollapse: null,\n    onContextMenu: null,\n    onContextMenuSelectionChange: null,\n    onDragDrop: null,\n    onExpand: null,\n    onFilterValueChange: null,\n    onNodeClick: null,\n    onNodeDoubleClick: null,\n    onSelect: null,\n    onSelectionChange: null,\n    onToggle: null,\n    onUnselect: null,\n    propagateSelectionDown: true,\n    propagateSelectionUp: true,\n    selectionKeys: null,\n    selectionMode: null,\n    showHeader: true,\n    style: null,\n    togglerTemplate: null,\n    children: undefined\n  },\n  css: {\n    classes: classes,\n    styles: styles\n  }\n});\n\nfunction _createForOfIteratorHelper$1(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray$1(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen); }\nfunction _arrayLikeToArray$1(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys$1(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread$1(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys$1(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys$1(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar UITreeNode = /*#__PURE__*/React.memo(function (props) {\n  var contentRef = React.useRef(null);\n  var elementRef = React.useRef(null);\n  var nodeTouched = React.useRef(false);\n  var mergeProps = useMergeProps();\n  var isLeaf = props.isNodeLeaf(props.node);\n  var label = props.node.label;\n  var expanded = (props.expandedKeys ? props.expandedKeys[props.node.key] !== undefined : false) || props.node.expanded;\n  var ptm = props.ptm,\n    cx = props.cx;\n  var getPTOptions = function getPTOptions(key) {\n    return ptm(key, {\n      hostName: props.hostName,\n      context: {\n        selected: !isCheckboxSelectionMode() ? isSelected() : false,\n        expanded: expanded || false,\n        checked: isCheckboxSelectionMode() ? isChecked() : false,\n        isLeaf: isLeaf\n      }\n    });\n  };\n  var expand = function expand(event) {\n    var navigateFocusToChild = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var expandedKeys = props.expandedKeys ? _objectSpread$1({}, props.expandedKeys) : {};\n    expandedKeys[props.node.key] = true;\n    props.onToggle({\n      originalEvent: event,\n      value: expandedKeys,\n      navigateFocusToChild: navigateFocusToChild\n    });\n    invokeToggleEvents(event, true);\n  };\n  var collapse = function collapse(event) {\n    var expandedKeys = _objectSpread$1({}, props.expandedKeys);\n    delete expandedKeys[props.node.key];\n    props.onToggle({\n      originalEvent: event,\n      value: expandedKeys\n    });\n    invokeToggleEvents(event, false);\n  };\n  var onTogglerClick = function onTogglerClick(event) {\n    if (props.disabled) {\n      return;\n    }\n    expanded ? collapse(event) : expand(event, false);\n    event.preventDefault();\n    event.stopPropagation();\n  };\n  var invokeToggleEvents = function invokeToggleEvents(event, isExpanded) {\n    if (isExpanded) {\n      if (props.onExpand) {\n        props.onExpand({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    } else {\n      if (props.onCollapse) {\n        props.onCollapse({\n          originalEvent: event,\n          node: props.node\n        });\n      }\n    }\n  };\n  var findNextSiblingOfAncestor = function findNextSiblingOfAncestor(nodeElement) {\n    var parentNodeElement = getParentNodeElement(nodeElement);\n    return parentNodeElement ? parentNodeElement.nextElementSibling || findNextSiblingOfAncestor(parentNodeElement) : null;\n  };\n  var findLastVisibleDescendant = function findLastVisibleDescendant(nodeElement) {\n    var childrenListElement = nodeElement.children[1];\n    if (childrenListElement) {\n      var lastChildElement = childrenListElement.children[childrenListElement.children.length - 1];\n      return findLastVisibleDescendant(lastChildElement);\n    } else {\n      return nodeElement;\n    }\n  };\n  var getParentNodeElement = function getParentNodeElement(nodeElement) {\n    var parentNodeElement = nodeElement.parentElement.parentElement;\n    return DomHandler.hasClass(parentNodeElement, 'p-treenode') ? parentNodeElement : null;\n  };\n  var focusNode = function focusNode(element) {\n    element && element.focus();\n  };\n  var onClick = function onClick(event) {\n    if (props.onClick) {\n      props.onClick({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n    var targetNode = event.target.nodeName;\n    if (props.disabled || targetNode === 'INPUT' || targetNode === 'BUTTON' || targetNode === 'A' || DomHandler.hasClass(event.target, 'p-clickable')) {\n      return;\n    }\n    if (props.selectionMode && props.node.selectable !== false) {\n      var selectionKeys;\n      if (isCheckboxSelectionMode()) {\n        var checked = isChecked();\n        selectionKeys = props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n        if (checked) {\n          if (props.propagateSelectionDown) propagateDown(props.node, false, selectionKeys);else delete selectionKeys[props.node.key];\n          if (props.propagateSelectionUp && props.onPropagateUp) {\n            props.onPropagateUp({\n              originalEvent: event,\n              check: false,\n              selectionKeys: selectionKeys\n            });\n          }\n          if (props.onUnselect) {\n            props.onUnselect({\n              originalEvent: event,\n              node: props.node\n            });\n          }\n        } else {\n          if (props.propagateSelectionDown) propagateDown(props.node, true, selectionKeys);else selectionKeys[props.node.key] = {\n            checked: true\n          };\n          if (props.propagateSelectionUp && props.onPropagateUp) {\n            props.onPropagateUp({\n              originalEvent: event,\n              check: true,\n              selectionKeys: selectionKeys\n            });\n          }\n          if (props.onSelect) {\n            props.onSelect({\n              originalEvent: event,\n              node: props.node\n            });\n          }\n        }\n      } else {\n        var selected = isSelected();\n        var metaSelection = nodeTouched.current ? false : props.metaKeySelection;\n        if (metaSelection) {\n          var metaKey = event.metaKey || event.ctrlKey;\n          if (selected && metaKey) {\n            if (isSingleSelectionMode()) {\n              selectionKeys = null;\n            } else {\n              selectionKeys = _objectSpread$1({}, props.selectionKeys);\n              delete selectionKeys[props.node.key];\n            }\n            if (props.onUnselect) {\n              props.onUnselect({\n                originalEvent: event,\n                node: props.node\n              });\n            }\n          } else {\n            if (isSingleSelectionMode()) {\n              selectionKeys = props.node.key;\n            } else if (isMultipleSelectionMode()) {\n              selectionKeys = !metaKey ? {} : props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n              selectionKeys[props.node.key] = true;\n            }\n            if (props.onSelect) {\n              props.onSelect({\n                originalEvent: event,\n                node: props.node\n              });\n            }\n          }\n        } else {\n          if (isSingleSelectionMode()) {\n            if (selected) {\n              selectionKeys = null;\n              if (props.onUnselect) {\n                props.onUnselect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            } else {\n              selectionKeys = props.node.key;\n              if (props.onSelect) {\n                props.onSelect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            }\n          } else {\n            if (selected) {\n              selectionKeys = _objectSpread$1({}, props.selectionKeys);\n              delete selectionKeys[props.node.key];\n              if (props.onUnselect) {\n                props.onUnselect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            } else {\n              selectionKeys = props.selectionKeys ? _objectSpread$1({}, props.selectionKeys) : {};\n              selectionKeys[props.node.key] = true;\n              if (props.onSelect) {\n                props.onSelect({\n                  originalEvent: event,\n                  node: props.node\n                });\n              }\n            }\n          }\n        }\n      }\n      if (props.onSelectionChange) {\n        props.onSelectionChange({\n          originalEvent: event,\n          value: selectionKeys\n        });\n      }\n    }\n    nodeTouched.current = false;\n  };\n  var onDoubleClick = function onDoubleClick(event) {\n    if (props.onDoubleClick) {\n      props.onDoubleClick({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n  };\n  var onRightClick = function onRightClick(event) {\n    if (props.disabled) {\n      return;\n    }\n    DomHandler.clearSelection();\n    if (props.onContextMenuSelectionChange) {\n      props.onContextMenuSelectionChange({\n        originalEvent: event,\n        value: props.node.key\n      });\n    }\n    if (props.onContextMenu) {\n      props.onContextMenu({\n        originalEvent: event,\n        node: props.node\n      });\n    }\n  };\n  var onKeyDown = function onKeyDown(event) {\n    if (!isSameNode(event)) return;\n    switch (event.code) {\n      case 'Tab':\n        onTabKey();\n        break;\n      case 'ArrowDown':\n        onArrowDown(event);\n        break;\n      case 'ArrowUp':\n        onArrowUp(event);\n        break;\n      case 'ArrowRight':\n        onArrowRight(event);\n        break;\n      case 'ArrowLeft':\n        onArrowLeft(event);\n        break;\n      case 'Enter':\n      case 'NumpadEnter':\n      case 'Space':\n        onEnterKey(event);\n        break;\n    }\n  };\n  var onArrowDown = function onArrowDown(event) {\n    var nodeElement = event.target.getAttribute('data-pc-section') === 'toggler' ? event.target.closest('[role=\"treeitem\"]') : event.target;\n    var listElement = nodeElement.children[1];\n    if (listElement) {\n      focusRowChange(nodeElement, listElement.children[0]);\n    } else {\n      if (nodeElement.nextElementSibling) {\n        focusRowChange(nodeElement, nodeElement.nextElementSibling);\n      } else {\n        var nextSiblingAncestor = findNextSiblingOfAncestor(nodeElement);\n        if (nextSiblingAncestor) {\n          focusRowChange(nodeElement, nextSiblingAncestor);\n        }\n      }\n    }\n    event.preventDefault();\n  };\n  var onArrowUp = function onArrowUp(event) {\n    var nodeElement = event.target;\n    if (nodeElement.previousElementSibling) {\n      focusRowChange(nodeElement, nodeElement.previousElementSibling, findLastVisibleDescendant(nodeElement.previousElementSibling));\n    } else {\n      var parentNodeElement = getParentNodeElement(nodeElement);\n      if (parentNodeElement) {\n        focusRowChange(nodeElement, parentNodeElement);\n      }\n    }\n    event.preventDefault();\n  };\n  var onArrowRight = function onArrowRight(event) {\n    if (isLeaf || expanded) return;\n    event.currentTarget.tabIndex = -1;\n    expand(event, true);\n  };\n  var onArrowLeft = function onArrowLeft(event) {\n    var togglerElement = DomHandler.findSingle(event.currentTarget, '[data-pc-section=\"toggler\"]');\n    if (props.level === 0 && !expanded) {\n      return false;\n    }\n    if (expanded && !isLeaf) {\n      togglerElement.click();\n      return false;\n    }\n    var target = findBeforeClickableNode(event.currentTarget);\n    if (target) {\n      focusRowChange(event.currentTarget, target);\n    }\n  };\n  var onEnterKey = function onEnterKey(event) {\n    setTabIndexForSelectionMode(event, nodeTouched.current);\n    onClick(event);\n    event.preventDefault();\n  };\n  var onTabKey = function onTabKey() {\n    setAllNodesTabIndexes();\n  };\n  var setAllNodesTabIndexes = function setAllNodesTabIndexes() {\n    var nodes = DomHandler.find(contentRef.current.closest('[data-pc-section=\"container\"]'), '[role=\"treeitem\"]');\n    var hasSelectedNode = _toConsumableArray(nodes).some(function (node) {\n      return node.getAttribute('aria-selected') === 'true' || node.getAttribute('aria-checked') === 'true';\n    });\n    _toConsumableArray(nodes).forEach(function (node) {\n      node.tabIndex = -1;\n    });\n    if (hasSelectedNode) {\n      var selectedNodes = _toConsumableArray(nodes).filter(function (node) {\n        return node.getAttribute('aria-selected') === 'true' || node.getAttribute('aria-checked') === 'true';\n      });\n      selectedNodes[0].tabIndex = 0;\n      return;\n    }\n    _toConsumableArray(nodes)[0].tabIndex = 0;\n  };\n  var setTabIndexForSelectionMode = function setTabIndexForSelectionMode(event, nodeTouched) {\n    if (props.selectionMode !== null) {\n      var elements = _toConsumableArray(DomHandler.find(elementRef.current.parentElement, '[role=\"treeitem\"]'));\n      event.currentTarget.tabIndex = nodeTouched === false ? -1 : 0;\n      if (elements.every(function (element) {\n        return element.tabIndex === -1;\n      })) {\n        elements[0].tabIndex = 0;\n      }\n    }\n  };\n  var focusRowChange = function focusRowChange(firstFocusableRow, currentFocusedRow, lastVisibleDescendant) {\n    firstFocusableRow.tabIndex = '-1';\n    currentFocusedRow.tabIndex = '0';\n    focusNode(lastVisibleDescendant || currentFocusedRow);\n  };\n  var findBeforeClickableNode = function findBeforeClickableNode(node) {\n    var parentListElement = node.closest('ul').closest('li');\n    if (parentListElement) {\n      var prevNodeButton = DomHandler.findSingle(parentListElement, 'button');\n      if (prevNodeButton && prevNodeButton.style.visibility !== 'hidden') {\n        return parentListElement;\n      }\n      return findBeforeClickableNode(node.previousElementSibling);\n    }\n    return null;\n  };\n  var propagateUp = function propagateUp(event) {\n    var check = event.check;\n    var selectionKeys = event.selectionKeys;\n    var checkedChildCount = 0;\n    var _iterator = _createForOfIteratorHelper$1(props.node.children),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var child = _step.value;\n        if (selectionKeys[child.key] && selectionKeys[child.key].checked) checkedChildCount++;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    var parentKey = props.node.key;\n    var children = ObjectUtils.findChildrenByKey(props.originalOptions, parentKey);\n    var isParentPartiallyChecked = children.some(function (ele) {\n      return ele.key in selectionKeys;\n    });\n    var isCompletelyChecked = children.every(function (ele) {\n      return ele.key in selectionKeys && selectionKeys[ele.key].checked;\n    });\n    if (isParentPartiallyChecked && !isCompletelyChecked) {\n      selectionKeys[parentKey] = {\n        checked: false,\n        partialChecked: true\n      };\n    } else if (isCompletelyChecked) {\n      selectionKeys[parentKey] = {\n        checked: true,\n        partialChecked: false\n      };\n    } else if (check) {\n      selectionKeys[parentKey] = {\n        checked: false,\n        partialChecked: false\n      };\n    } else {\n      delete selectionKeys[parentKey];\n    }\n    if (props.propagateSelectionUp && props.onPropagateUp) {\n      props.onPropagateUp(event);\n    }\n  };\n  var propagateDown = function propagateDown(node, check, selectionKeys) {\n    if (check) selectionKeys[node.key] = {\n      checked: true,\n      partialChecked: false\n    };else delete selectionKeys[node.key];\n    if (node.children && node.children.length) {\n      for (var i = 0; i < node.children.length; i++) {\n        propagateDown(node.children[i], check, selectionKeys);\n      }\n    }\n  };\n  var isSelected = function isSelected() {\n    if (props.selectionMode && props.selectionKeys) return isSingleSelectionMode() ? props.selectionKeys === props.node.key : props.selectionKeys[props.node.key] !== undefined;else return false;\n  };\n  var isChecked = function isChecked() {\n    return (props.selectionKeys ? props.selectionKeys[props.node.key] && props.selectionKeys[props.node.key].checked : false) || false;\n  };\n  var isSameNode = function isSameNode(event) {\n    return event.currentTarget && (event.currentTarget.isSameNode(event.target) || event.currentTarget.isSameNode(event.target.closest('[role=\"treeitem\"]')));\n  };\n  var isPartialChecked = function isPartialChecked() {\n    return props.selectionKeys ? props.selectionKeys[props.node.key] && props.selectionKeys[props.node.key].partialChecked : false;\n  };\n  var isSingleSelectionMode = function isSingleSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'single';\n  };\n  var isMultipleSelectionMode = function isMultipleSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'multiple';\n  };\n  var isCheckboxSelectionMode = function isCheckboxSelectionMode() {\n    return props.selectionMode && props.selectionMode === 'checkbox';\n  };\n  var onTouchEnd = function onTouchEnd() {\n    nodeTouched.current = true;\n  };\n  var onDropPoint = function onDropPoint(event, position) {\n    event.preventDefault();\n    if (props.node.droppable !== false) {\n      DomHandler.removeClass(event.target, 'p-treenode-droppoint-active');\n      if (props.onDropPoint) {\n        var dropIndex = position === -1 ? props.index : props.index + 1;\n        props.onDropPoint({\n          originalEvent: event,\n          path: props.path,\n          index: dropIndex,\n          position: position\n        });\n      }\n    }\n  };\n  var onDropPointDragOver = function onDropPointDragOver(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase()) {\n      event.dataTransfer.dropEffect = 'move';\n      event.preventDefault();\n    }\n  };\n  var onDropPointDragEnter = function onDropPointDragEnter(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase()) {\n      DomHandler.addClass(event.target, 'p-treenode-droppoint-active');\n    }\n  };\n  var onDropPointDragLeave = function onDropPointDragLeave(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase()) {\n      DomHandler.removeClass(event.target, 'p-treenode-droppoint-active');\n    }\n  };\n  var onDrop = function onDrop(event) {\n    if (props.dragdropScope && props.node.droppable !== false) {\n      DomHandler.removeClass(contentRef.current, 'p-treenode-dragover');\n      event.preventDefault();\n      event.stopPropagation();\n      if (props.onDrop) {\n        props.onDrop({\n          originalEvent: event,\n          path: props.path,\n          index: props.index\n        });\n      }\n    }\n  };\n  var onDragOver = function onDragOver(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase() && props.node.droppable !== false) {\n      event.dataTransfer.dropEffect = 'move';\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n  var onDragEnter = function onDragEnter(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase() && props.node.droppable !== false) {\n      DomHandler.addClass(contentRef.current, 'p-treenode-dragover');\n    }\n  };\n  var onDragLeave = function onDragLeave(event) {\n    if (event.dataTransfer.types[1] === props.dragdropScope.toLocaleLowerCase() && props.node.droppable !== false) {\n      var rect = event.currentTarget.getBoundingClientRect();\n      if (event.nativeEvent.x > rect.left + rect.width || event.nativeEvent.x < rect.left || event.nativeEvent.y >= Math.floor(rect.top + rect.height) || event.nativeEvent.y < rect.top) {\n        DomHandler.removeClass(contentRef.current, 'p-treenode-dragover');\n      }\n    }\n  };\n  var onDragStart = function onDragStart(event) {\n    event.dataTransfer.setData('text', props.dragdropScope);\n    event.dataTransfer.setData(props.dragdropScope, props.dragdropScope);\n    if (props.onDragStart) {\n      props.onDragStart({\n        originalEvent: event,\n        path: props.path,\n        index: props.index\n      });\n    }\n  };\n  var onDragEnd = function onDragEnd(event) {\n    if (props.onDragEnd) {\n      props.onDragEnd({\n        originalEvent: event\n      });\n    }\n  };\n  var createLabel = function createLabel() {\n    var labelProps = mergeProps({\n      className: cx('label')\n    }, getPTOptions('label'));\n    var content = /*#__PURE__*/React.createElement(\"span\", labelProps, label);\n    if (props.nodeTemplate) {\n      var defaultContentOptions = {\n        onTogglerClick: onTogglerClick,\n        className: 'p-treenode-label',\n        element: content,\n        props: props,\n        expanded: expanded\n      };\n      content = ObjectUtils.getJSXElement(props.nodeTemplate, props.node, defaultContentOptions);\n    }\n    return content;\n  };\n  var createCheckbox = function createCheckbox() {\n    if (isCheckboxSelectionMode() && props.node.selectable !== false) {\n      var checked = isChecked();\n      var partialChecked = isPartialChecked();\n      var checkboxIconProps = mergeProps({\n        className: cx('checkboxIcon')\n      }, getPTOptions('checkboxIcon'));\n      var icon = checked ? props.checkboxIcon || /*#__PURE__*/React.createElement(CheckIcon, checkboxIconProps) : partialChecked ? props.checkboxIcon || /*#__PURE__*/React.createElement(MinusIcon, checkboxIconProps) : null;\n      var checkboxIcon = IconUtils.getJSXIcon(icon, _objectSpread$1({}, checkboxIconProps), props);\n      var checkboxContainerProps = mergeProps({\n        'aria-hidden': true,\n        className: cx('checkboxContainer')\n      }, getPTOptions('checkboxContainer'));\n      var checkboxProps = mergeProps({\n        className: cx('checkbox', {\n          checked: checked,\n          partialChecked: partialChecked,\n          nodeProps: props\n        }),\n        role: 'checkbox'\n      }, getPTOptions('checkbox'));\n      return /*#__PURE__*/React.createElement(\"div\", checkboxContainerProps, /*#__PURE__*/React.createElement(\"div\", checkboxProps, checkboxIcon));\n    }\n    return null;\n  };\n  var createIcon = function createIcon() {\n    var icon = props.node.icon || (expanded ? props.node.expandedIcon : props.node.collapsedIcon);\n    if (icon) {\n      var nodeIconProps = mergeProps({\n        className: classNames(icon, cx('nodeIcon'))\n      }, getPTOptions('nodeIcon'));\n      return IconUtils.getJSXIcon(icon, _objectSpread$1({}, nodeIconProps), {\n        props: props\n      });\n    }\n    return null;\n  };\n  var createToggler = function createToggler() {\n    var togglerIconProps = mergeProps({\n      className: cx('togglerIcon'),\n      'aria-hidden': true\n    }, getPTOptions('togglerIcon'));\n    var icon = expanded ? props.collapseIcon || /*#__PURE__*/React.createElement(ChevronDownIcon, togglerIconProps) : props.expandIcon || /*#__PURE__*/React.createElement(ChevronRightIcon, togglerIconProps);\n    var togglerIcon = IconUtils.getJSXIcon(icon, _objectSpread$1({}, togglerIconProps), {\n      props: props,\n      expanded: expanded\n    });\n    var togglerProps = mergeProps({\n      type: 'button',\n      className: cx('toggler'),\n      tabIndex: -1,\n      'aria-hidden': true,\n      onClick: onTogglerClick\n    }, getPTOptions('toggler'));\n    var content = /*#__PURE__*/React.createElement(\"button\", togglerProps, togglerIcon, /*#__PURE__*/React.createElement(Ripple, null));\n    if (props.togglerTemplate) {\n      var defaultContentOptions = {\n        onClick: onTogglerClick,\n        containerClassName: 'p-tree-toggler p-link',\n        iconClassName: 'p-tree-toggler-icon',\n        element: content,\n        props: props,\n        expanded: expanded\n      };\n      content = ObjectUtils.getJSXElement(props.togglerTemplate, props.node, defaultContentOptions);\n    }\n    return content;\n  };\n  var createDropPoint = function createDropPoint(position) {\n    if (props.dragdropScope) {\n      var droppointProps = mergeProps({\n        className: cx('droppoint'),\n        role: 'treeitem',\n        onDrop: function onDrop(event) {\n          return onDropPoint(event, position);\n        },\n        onDragOver: onDropPointDragOver,\n        onDragEnter: onDropPointDragEnter,\n        onDragLeave: onDropPointDragLeave\n      }, getPTOptions('droppoint'));\n      return /*#__PURE__*/React.createElement(\"li\", droppointProps);\n    }\n    return null;\n  };\n  var createContent = function createContent() {\n    var selected = isSelected();\n    var checked = isChecked();\n    var toggler = createToggler();\n    var checkbox = createCheckbox();\n    var icon = createIcon();\n    var label = createLabel();\n    var contentProps = mergeProps({\n      ref: contentRef,\n      className: classNames(props.node.className, cx('content', {\n        checked: checked,\n        selected: selected,\n        nodeProps: props,\n        isCheckboxSelectionMode: isCheckboxSelectionMode\n      })),\n      style: props.node.style,\n      onClick: onClick,\n      onDoubleClick: onDoubleClick,\n      onContextMenu: onRightClick,\n      onTouchEnd: onTouchEnd,\n      draggable: props.dragdropScope && props.node.draggable !== false && !props.disabled,\n      onDrop: onDrop,\n      onDragOver: onDragOver,\n      onDragEnter: onDragEnter,\n      onDragLeave: onDragLeave,\n      onDragStart: onDragStart,\n      onDragEnd: onDragEnd,\n      'data-p-highlight': isCheckboxSelectionMode() ? checked : selected\n    }, getPTOptions('content'));\n    return /*#__PURE__*/React.createElement(\"div\", contentProps, toggler, checkbox, icon, label);\n  };\n  var createChildren = function createChildren() {\n    var subgroupProps = mergeProps({\n      className: cx('subgroup'),\n      role: 'group'\n    }, getPTOptions('subgroup'));\n    if (ObjectUtils.isNotEmpty(props.node.children) && expanded) {\n      return /*#__PURE__*/React.createElement(\"ul\", subgroupProps, props.node.children.map(function (childNode, index) {\n        return /*#__PURE__*/React.createElement(UITreeNode, {\n          key: childNode.key || childNode.label,\n          node: childNode,\n          checkboxIcon: props.checkboxIcon,\n          collapseIcon: props.collapseIcon,\n          contextMenuSelectionKey: props.contextMenuSelectionKey,\n          cx: cx,\n          disabled: props.disabled,\n          dragdropScope: props.dragdropScope,\n          expandIcon: props.expandIcon,\n          expandedKeys: props.expandedKeys,\n          index: index,\n          isNodeLeaf: props.isNodeLeaf,\n          last: index === props.node.children.length - 1,\n          metaKeySelection: props.metaKeySelection,\n          nodeTemplate: props.nodeTemplate,\n          onClick: props.onClick,\n          onCollapse: props.onCollapse,\n          onContextMenu: props.onContextMenu,\n          onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n          onDoubleClick: props.onDoubleClick,\n          onDragEnd: props.onDragEnd,\n          onDragStart: props.onDragStart,\n          onDrop: props.onDrop,\n          onDropPoint: props.onDropPoint,\n          onExpand: props.onExpand,\n          onPropagateUp: propagateUp,\n          onSelect: props.onSelect,\n          onSelectionChange: props.onSelectionChange,\n          onToggle: props.onToggle,\n          onUnselect: props.onUnselect,\n          originalOptions: props.originalOptions,\n          parent: props.node,\n          path: props.path + '-' + index,\n          propagateSelectionDown: props.propagateSelectionDown,\n          propagateSelectionUp: props.propagateSelectionUp,\n          ptm: ptm,\n          selectionKeys: props.selectionKeys,\n          selectionMode: props.selectionMode,\n          togglerTemplate: props.togglerTemplate\n        });\n      }));\n    }\n    return null;\n  };\n  var createNode = function createNode() {\n    var tabIndex = props.disabled || props.index !== 0 ? -1 : 0;\n    var selected = isSelected();\n    var checked = isChecked();\n    var content = createContent();\n    var children = createChildren();\n    var nodeProps = mergeProps(_defineProperty(_defineProperty({\n      ref: elementRef,\n      className: classNames(props.node.className, cx('node', {\n        isLeaf: isLeaf\n      })),\n      style: props.node.style,\n      tabIndex: tabIndex,\n      role: 'treeitem',\n      'aria-label': label,\n      'aria-level': props.level,\n      'aria-expanded': expanded,\n      'aria-checked': checked,\n      'aria-setsize': props.node.children ? props.node.children.length : 0,\n      'aria-posinset': props.index + 1,\n      onKeyDown: onKeyDown\n    }, \"aria-expanded\", expanded), 'aria-selected', checked || selected), getPTOptions('node'));\n    return /*#__PURE__*/React.createElement(\"li\", nodeProps, content, children);\n  };\n  var node = createNode();\n  if (props.dragdropScope && !props.disabled) {\n    var beforeDropPoint = createDropPoint(-1);\n    var afterDropPoint = props.last ? createDropPoint(1) : null;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, beforeDropPoint, node, afterDropPoint);\n  }\n  return node;\n});\nUITreeNode.displayName = 'UITreeNode';\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar Tree = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var mergeProps = useMergeProps();\n  var context = React.useContext(PrimeReactContext);\n  var props = TreeBase.getProps(inProps, context);\n  var _React$useState = React.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    filterValueState = _React$useState2[0],\n    setFilterValueState = _React$useState2[1];\n  var _React$useState3 = React.useState(props.expandedKeys),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    expandedKeysState = _React$useState4[0],\n    setExpandedKeysState = _React$useState4[1];\n  var elementRef = React.useRef(null);\n  var filteredNodes = React.useRef([]);\n  var dragState = React.useRef(null);\n  var filterChanged = React.useRef(false);\n  var filteredValue = props.onFilterValueChange ? props.filterValue : filterValueState;\n  var expandedKeys = props.onToggle ? props.expandedKeys : expandedKeysState;\n  var childFocusEvent = React.useRef(null);\n  var _TreeBase$setMetaData = TreeBase.setMetaData({\n      props: props,\n      state: {\n        filterValue: filteredValue,\n        expandedKeys: expandedKeys\n      }\n    }),\n    ptm = _TreeBase$setMetaData.ptm,\n    cx = _TreeBase$setMetaData.cx,\n    isUnstyled = _TreeBase$setMetaData.isUnstyled;\n  useHandleStyle(TreeBase.css.styles, isUnstyled, {\n    name: 'tree'\n  });\n  var filterOptions = {\n    filter: function filter(e) {\n      return onFilterInputChange(e);\n    },\n    reset: function reset() {\n      return resetFilter();\n    }\n  };\n  var getRootNode = function getRootNode() {\n    return props.filter && filteredNodes.current ? filteredNodes.current : props.value;\n  };\n  var onToggle = function onToggle(event) {\n    var originalEvent = event.originalEvent,\n      value = event.value,\n      navigateFocusToChild = event.navigateFocusToChild;\n    if (props.onToggle) {\n      props.onToggle({\n        originalEvent: originalEvent,\n        value: value\n      });\n    } else {\n      if (navigateFocusToChild) {\n        childFocusEvent.current = originalEvent;\n      }\n      setExpandedKeysState(value);\n    }\n  };\n  useUpdateEffect(function () {\n    if (childFocusEvent.current) {\n      var event = childFocusEvent.current;\n      var nodeElement = event.target.getAttribute('data-pc-section') === 'toggler' ? event.target.closest('[role=\"treeitem\"]') : event.target;\n      var listElement = nodeElement.children[1];\n      if (listElement) {\n        if (nodeElement) {\n          nodeElement.tabIndex = '-1';\n        }\n        var childElement = listElement.children[0];\n        if (childElement) {\n          childElement.tabIndex = '0';\n          childElement.focus();\n        }\n      }\n      childFocusEvent.current = null;\n    }\n  }, [expandedKeys]);\n  var onDragStart = function onDragStart(event) {\n    dragState.current = {\n      path: event.path,\n      index: event.index\n    };\n  };\n  var onDragEnd = function onDragEnd() {\n    dragState.current = null;\n  };\n\n  /**\n   * Deep copy a value. If the value has a data property, it will be shallow copied.\n   * Values that are not plain objects or arrays are returned as-is.\n   */\n  var cloneValue = function cloneValue(value) {\n    if (Array.isArray(value)) {\n      return value.map(cloneValue);\n    } else if (!!value && Object.getPrototypeOf(value) === Object.prototype) {\n      var result = {};\n\n      // Leave data property alone and clone children\n      for (var key in value) {\n        if (key !== 'data') {\n          result[key] = cloneValue(value[key]);\n        } else {\n          result[key] = value[key];\n        }\n      }\n      return result;\n    } else return value;\n  };\n  var onDrop = function onDrop(event) {\n    var _dragState$current;\n    if (validateDropNode((_dragState$current = dragState.current) === null || _dragState$current === void 0 ? void 0 : _dragState$current.path, event.path)) {\n      var value = cloneValue(props.value);\n      var dragPaths = dragState.current.path.split('-');\n      dragPaths.pop();\n      var dragNodeParent = findNode(value, dragPaths);\n      var dragNode = dragNodeParent ? dragNodeParent.children[dragState.current.index] : value[dragState.current.index];\n      var dropNode = findNode(value, event.path.split('-'));\n      if (dropNode.children) dropNode.children.push(dragNode);else dropNode.children = [dragNode];\n      if (dragNodeParent) dragNodeParent.children.splice(dragState.current.index, 1);else value.splice(dragState.current.index, 1);\n      if (props.onDragDrop) {\n        props.onDragDrop({\n          originalEvent: event.originalEvent,\n          value: value,\n          dragNode: dragNode,\n          dropNode: dropNode,\n          dropIndex: event.index\n        });\n      }\n    }\n  };\n  var onDropPoint = function onDropPoint(event) {\n    if (validateDropPoint(event)) {\n      var value = cloneValue(props.value);\n      var dragPaths = dragState.current.path.split('-');\n      dragPaths.pop();\n      var dropPaths = event.path.split('-');\n      dropPaths.pop();\n      var dragNodeParent = findNode(value, dragPaths);\n      var dropNodeParent = findNode(value, dropPaths);\n      var dragNode = dragNodeParent ? dragNodeParent.children[dragState.current.index] : value[dragState.current.index];\n      var siblings = areSiblings(dragState.current.path, event.path);\n      if (dragNodeParent) dragNodeParent.children.splice(dragState.current.index, 1);else value.splice(dragState.current.index, 1);\n      if (event.position < 0) {\n        var dropIndex = siblings ? dragState.current.index > event.index ? event.index : event.index - 1 : event.index;\n        if (dropNodeParent) dropNodeParent.children.splice(dropIndex, 0, dragNode);else value.splice(dropIndex, 0, dragNode);\n      } else {\n        if (dropNodeParent) dropNodeParent.children.push(dragNode);else value.push(dragNode);\n      }\n      if (props.onDragDrop) {\n        props.onDragDrop({\n          originalEvent: event.originalEvent,\n          value: value,\n          dragNode: dragNode,\n          dropNode: dropNodeParent,\n          dropIndex: event.index\n        });\n      }\n    }\n  };\n  var validateDrop = function validateDrop(dragPath, dropPath) {\n    if (!dragPath) {\n      return false;\n    } else {\n      //same node\n      if (dragPath === dropPath) {\n        return false;\n      }\n\n      //parent dropped on an descendant\n      if (dropPath.indexOf(dragPath) === 0) {\n        return false;\n      }\n      return true;\n    }\n  };\n  var validateDropNode = function validateDropNode(dragPath, dropPath) {\n    var _validateDrop = validateDrop(dragPath, dropPath);\n    if (_validateDrop) {\n      //child dropped on parent\n      if (dragPath.indexOf('-') > 0 && dragPath.substring(0, dragPath.lastIndexOf('-')) === dropPath) {\n        return false;\n      }\n      return true;\n    } else {\n      return false;\n    }\n  };\n  var validateDropPoint = function validateDropPoint(event) {\n    var _dragState$current2;\n    var _validateDrop = validateDrop((_dragState$current2 = dragState.current) === null || _dragState$current2 === void 0 ? void 0 : _dragState$current2.path, event.path);\n    if (_validateDrop) {\n      //child dropped to next sibling's drop point\n      if (event.position === -1 && areSiblings(dragState.current.path, event.path) && dragState.current.index + 1 === event.index) {\n        return false;\n      }\n      return true;\n    } else {\n      return false;\n    }\n  };\n  var areSiblings = function areSiblings(path1, path2) {\n    if (path1.length === 1 && path2.length === 1) return true;else return path1.substring(0, path1.lastIndexOf('-')) === path2.substring(0, path2.lastIndexOf('-'));\n  };\n  var findNode = function findNode(value, path) {\n    if (path.length === 0) {\n      return null;\n    } else {\n      var index = parseInt(path[0], 10);\n      var nextSearchRoot = value.children ? value.children[index] : value[index];\n      if (path.length === 1) {\n        return nextSearchRoot;\n      } else {\n        path.shift();\n        return findNode(nextSearchRoot, path);\n      }\n    }\n  };\n  var isNodeLeaf = function isNodeLeaf(node) {\n    return node.leaf === false ? false : !(node.children && node.children.length);\n  };\n  var onFilterInputKeyDown = function onFilterInputKeyDown(event) {\n    //enter\n    if (event.which === 13) {\n      event.preventDefault();\n    }\n  };\n  var onFilterInputChange = function onFilterInputChange(event) {\n    filterChanged.current = true;\n    var value = event.target.value;\n    if (props.onFilterValueChange) {\n      props.onFilterValueChange({\n        originalEvent: event,\n        value: value\n      });\n    } else {\n      setFilterValueState(value);\n    }\n  };\n  var filter = function filter(value) {\n    setFilterValueState(ObjectUtils.isNotEmpty(value) ? value : '');\n    _filter();\n  };\n  var _filter = function _filter() {\n    if (!filterChanged.current) {\n      return;\n    }\n    if (ObjectUtils.isEmpty(filteredValue)) {\n      filteredNodes.current = props.value;\n    } else {\n      filteredNodes.current = [];\n      var searchFields = props.filterBy.split(',');\n      var filterText = filteredValue.toLocaleLowerCase(props.filterLocale);\n      var isStrictMode = props.filterMode === 'strict';\n      var _iterator = _createForOfIteratorHelper(props.value),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var node = _step.value;\n          var copyNode = _objectSpread({}, node);\n          var paramsWithoutNode = {\n            searchFields: searchFields,\n            filterText: filterText,\n            isStrictMode: isStrictMode\n          };\n          if (isStrictMode && (findFilteredNodes(copyNode, paramsWithoutNode) || isFilterMatched(copyNode, paramsWithoutNode)) || !isStrictMode && (isFilterMatched(copyNode, paramsWithoutNode) || findFilteredNodes(copyNode, paramsWithoutNode))) {\n            filteredNodes.current.push(copyNode);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n    filterChanged.current = false;\n  };\n  var findFilteredNodes = function findFilteredNodes(node, paramsWithoutNode) {\n    if (node) {\n      var matched = false;\n      if (node.children) {\n        var childNodes = _toConsumableArray(node.children);\n        node.children = [];\n        var _iterator2 = _createForOfIteratorHelper(childNodes),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var childNode = _step2.value;\n            var copyChildNode = _objectSpread({}, childNode);\n            if (isFilterMatched(copyChildNode, paramsWithoutNode)) {\n              matched = true;\n              node.children.push(copyChildNode);\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n      if (matched) {\n        node.expanded = true;\n        return true;\n      }\n    }\n  };\n  var isFilterMatched = function isFilterMatched(node, _ref) {\n    var searchFields = _ref.searchFields,\n      filterText = _ref.filterText,\n      isStrictMode = _ref.isStrictMode;\n    var matched = false;\n    var _iterator3 = _createForOfIteratorHelper(searchFields),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var field = _step3.value;\n        var fieldValue = String(ObjectUtils.resolveFieldData(node, field)).toLocaleLowerCase(props.filterLocale);\n        if (fieldValue.indexOf(filterText) > -1) {\n          matched = true;\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    if (!matched || isStrictMode && !isNodeLeaf(node)) {\n      matched = findFilteredNodes(node, {\n        searchFields: searchFields,\n        filterText: filterText,\n        isStrictMode: isStrictMode\n      }) || matched;\n    }\n    return matched;\n  };\n  var resetFilter = function resetFilter() {\n    setFilterValueState('');\n  };\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      filter: filter,\n      getElement: function getElement() {\n        return elementRef.current;\n      }\n    };\n  });\n  var createRootChild = function createRootChild(node, index, last) {\n    return /*#__PURE__*/React.createElement(UITreeNode, {\n      hostName: \"Tree\",\n      key: node.key || node.label,\n      node: node,\n      level: props.level + 1,\n      originalOptions: props.value,\n      index: index,\n      last: last,\n      path: String(index),\n      checkboxIcon: props.checkboxIcon,\n      collapseIcon: props.collapseIcon,\n      contextMenuSelectionKey: props.contextMenuSelectionKey,\n      cx: cx,\n      disabled: props.disabled,\n      dragdropScope: props.dragdropScope,\n      expandIcon: props.expandIcon,\n      expandedKeys: expandedKeys,\n      isNodeLeaf: isNodeLeaf,\n      metaKeySelection: props.metaKeySelection,\n      nodeTemplate: props.nodeTemplate,\n      onClick: props.onNodeClick,\n      onCollapse: props.onCollapse,\n      onContextMenu: props.onContextMenu,\n      onContextMenuSelectionChange: props.onContextMenuSelectionChange,\n      onDoubleClick: props.onNodeDoubleClick,\n      onDragEnd: onDragEnd,\n      onDragStart: onDragStart,\n      onDrop: onDrop,\n      onDropPoint: onDropPoint,\n      onExpand: props.onExpand,\n      onSelect: props.onSelect,\n      onSelectionChange: props.onSelectionChange,\n      onToggle: onToggle,\n      onUnselect: props.onUnselect,\n      propagateSelectionDown: props.propagateSelectionDown,\n      propagateSelectionUp: props.propagateSelectionUp,\n      ptm: ptm,\n      selectionKeys: props.selectionKeys,\n      selectionMode: props.selectionMode,\n      togglerTemplate: props.togglerTemplate\n    });\n  };\n  var createEmptyMessageNode = function createEmptyMessageNode() {\n    var emptyMessageProps = mergeProps({\n      className: classNames(props.contentClassName, cx('emptyMessage')),\n      role: 'treeitem'\n    }, ptm('emptyMessage'));\n    var message = ObjectUtils.getJSXElement(props.emptyMessage, props) || localeOption('emptyMessage');\n    return /*#__PURE__*/React.createElement(\"li\", emptyMessageProps, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"p-treenode-content\"\n    }, message));\n  };\n  var createRootChildrenContainer = function createRootChildrenContainer(children) {\n    var containerProps = mergeProps(_objectSpread({\n      className: classNames(props.contentClassName, cx('container')),\n      role: 'tree',\n      'aria-label': props.ariaLabel,\n      'aria-labelledby': props.ariaLabelledBy,\n      style: props.contentStyle\n    }, ariaProps), ptm('container'));\n    return /*#__PURE__*/React.createElement(\"ul\", containerProps, children);\n  };\n  var createRootChildren = function createRootChildren(value) {\n    return value.map(function (node, index) {\n      return createRootChild(node, index, index === value.length - 1);\n    });\n  };\n  var createModel = function createModel() {\n    if (props.value) {\n      if (props.filter) {\n        filterChanged.current = true;\n        _filter();\n      }\n      var value = getRootNode();\n      if (value.length > 0) {\n        var rootNodes = createRootChildren(value);\n        return createRootChildrenContainer(rootNodes);\n      } else {\n        var emptyMessageNode = createEmptyMessageNode();\n        return createRootChildrenContainer(emptyMessageNode);\n      }\n    }\n    return null;\n  };\n  var createLoader = function createLoader() {\n    if (props.loading) {\n      var loadingIconProps = mergeProps({\n        className: cx('loadingIcon')\n      }, ptm('loadingIcon'));\n      var icon = props.loadingIcon || /*#__PURE__*/React.createElement(SpinnerIcon, _extends({}, loadingIconProps, {\n        spin: true\n      }));\n      var loadingIcon = IconUtils.getJSXIcon(icon, _objectSpread({}, loadingIconProps), {\n        props: props\n      });\n      var loadingOverlayProps = mergeProps({\n        className: cx('loadingOverlay')\n      }, ptm('loadingOverlay'));\n      return /*#__PURE__*/React.createElement(\"div\", loadingOverlayProps, loadingIcon);\n    }\n    return null;\n  };\n  var createFilter = function createFilter() {\n    if (props.filter) {\n      var value = ObjectUtils.isNotEmpty(filteredValue) ? filteredValue : '';\n      var searchIconProps = mergeProps({\n        className: cx('searchIcon')\n      }, ptm('searchIcon'));\n      var icon = props.filterIcon || /*#__PURE__*/React.createElement(SearchIcon, searchIconProps);\n      var filterIcon = IconUtils.getJSXIcon(icon, _objectSpread({}, searchIconProps), {\n        props: props\n      });\n      var filterContainerProps = mergeProps({\n        className: cx('filterContainer')\n      }, ptm('filterContainer'));\n      var inputProps = mergeProps({\n        type: 'text',\n        value: value,\n        autoComplete: 'off',\n        className: cx('input'),\n        placeholder: props.filterPlaceholder,\n        'aria-label': props.filterPlaceholder,\n        onKeyDown: onFilterInputKeyDown,\n        onChange: onFilterInputChange,\n        disabled: props.disabled\n      }, ptm('input'));\n      var _content = /*#__PURE__*/React.createElement(\"div\", filterContainerProps, /*#__PURE__*/React.createElement(\"input\", inputProps), filterIcon);\n      if (props.filterTemplate) {\n        var defaultContentOptions = {\n          className: 'p-tree-filter-container',\n          element: _content,\n          filterOptions: filterOptions,\n          filterInputKeyDown: onFilterInputKeyDown,\n          filterInputChange: onFilterInputChange,\n          filterIconClassName: 'p-dropdown-filter-icon',\n          props: props\n        };\n        _content = ObjectUtils.getJSXElement(props.filterTemplate, defaultContentOptions);\n      }\n      return /*#__PURE__*/React.createElement(React.Fragment, null, _content);\n    }\n    return null;\n  };\n  var createHeader = function createHeader() {\n    if (props.showHeader) {\n      var filterElement = createFilter();\n      var _content2 = filterElement;\n      if (props.header) {\n        var defaultContentOptions = {\n          filterContainerClassName: 'p-tree-filter-container',\n          filterIconClassName: 'p-tree-filter-icon',\n          filterInput: {\n            className: 'p-tree-filter p-inputtext p-component',\n            onKeyDown: onFilterInputKeyDown,\n            onChange: onFilterInputChange\n          },\n          filterElement: filterElement,\n          element: _content2,\n          props: props\n        };\n        _content2 = ObjectUtils.getJSXElement(props.header, defaultContentOptions);\n      }\n      var headerProps = mergeProps({\n        className: cx('header')\n      }, ptm('header'));\n      return /*#__PURE__*/React.createElement(\"div\", headerProps, _content2);\n    }\n    return null;\n  };\n  var createFooter = function createFooter() {\n    var content = ObjectUtils.getJSXElement(props.footer, props);\n    var footerProps = mergeProps({\n      className: cx('footer')\n    }, ptm('footer'));\n    return /*#__PURE__*/React.createElement(\"div\", footerProps, content);\n  };\n  var otherProps = TreeBase.getOtherProps(props);\n  var ariaProps = ObjectUtils.reduceKeys(otherProps, DomHandler.ARIA_PROPS);\n  var loader = createLoader();\n  var content = createModel();\n  var header = createHeader();\n  var footer = createFooter();\n  var rootProps = mergeProps({\n    ref: elementRef,\n    className: classNames(props.className, cx('root')),\n    style: props.style,\n    id: props.id\n  }, TreeBase.getOtherProps(props), ptm('root'));\n  return /*#__PURE__*/React.createElement(\"div\", rootProps, loader, header, content, footer);\n}));\nTree.displayName = 'Tree';\n\nexport { Tree };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}